<HTML
><HEAD
><TITLE
>Administración de usuarios</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.72
"><LINK
REL="HOME"
TITLE="Aprendiendo a Aprender Linux"
HREF="book1.htm"><LINK
REL="UP"
TITLE="Desarrollo de habilidades para administrar computadores con
   Linux"
HREF="c4966.htm"><LINK
REL="PREVIOUS"
TITLE="Apagado y encendido de una red"
HREF="x5075.htm"><LINK
REL="NEXT"
TITLE="Administración de archivos"
HREF="x6433.htm"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Aprendiendo a Aprender Linux: Guías para colegios con plataforma de referencia
   S-Helio 1.1</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x5075.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 4. Desarrollo de habilidades para administrar computadores con
   Linux</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x6433.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="administracion-de-usuarios"
>Administración de usuarios</A
></H1
><P
>Indicadores de Logros</P
><P
></P
><UL
><LI
><A
NAME="admus.politica"
></A
><P
>Implementa una política para
       administración de usuarios: grupos, usuarios, permisos.
      </P
></LI
><LI
><A
NAME="admus.configura"
></A
><P
>Configura el sistema buscando
       mantener privacidad y hacer más fácil la adaptación de usuarios
       nuevos.</P
></LI
></UL
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="lecturas-administracion-de-usuarios"
>Lecturas: Administración de usuarios</A
></H2
><P
>El objetivo de los usuarios, grupos y permisos en Unix es
     brindar privacidad y organización permitiendo también compartir
     información cuando así se desea.
   </P
><P
>Con respecto a usuarios el administrador puede crear,
     eliminar o modificar información de cuentas y grupos.  También
     puede configurar detalles de los programas que permiten iniciar
     sesiones (ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
     Configuración de una sesión</A
>) y prevenir fallas de
     seguridad.  Si aún no lo ha hecho, antes de consultar esta
     sección recomendamos estudiar la visión que un usuario tiene del
     sistema de usuarios y grupos (ver <A
HREF="x328.htm"
>Sistema de
     usuarios y manejo de clave</A
>).
    </P
><P
>En una red con <SPAN
CLASS="acronym"
>NIS</SPAN
> la información de
     cuentas y grupos está centralizada en el servidor.  Desde este
     debe hacerse la administración con los programas y archivos
     presentados en esta sección y después de cada cambio debe
     reconfigurarse NIS como se explicará posteriormente (ver <A
HREF="x12937.htm#servicio-nis"
>Servicio NIS</A
>).
    </P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="usuarios"
>Usuarios</A
></H3
><P
>Los siguientes programas permiten realizar operaciones
      relacionadas con usuarios:
     </P
><A
NAME="AEN5610"
></A
><P
> Comando que permite entrar a
      una sesión como un usuario diferente.</P
><A
NAME="AEN5614"
></A
><P
> Comando que permite cambiar la
      clave de un usuario.</P
><A
NAME="AEN5618"
></A
><P
> Comando que cambia la
      información sobre el envejecimiento de la clave de un
	 usuario.</P
><A
NAME="AEN5622"
></A
><P
> Programa que permite agregar un
	  usuario y es más flexible que useradd.</P
><A
NAME="AEN5626"
></A
><P
> Comando que permite cambiar la
	 información GECOS de un usuario.</P
><A
NAME="AEN5630"
></A
><P
> Comando que permite cambiar el
      intérprete de comandos de un usuario.</P
><A
NAME="AEN5634"
></A
><P
> Comando que permite eliminar
      una cuenta, es más flexble que userdel.</P
><A
NAME="AEN5638"
></A
><P
> Grupo que tiene acceso a
       dispositivos de sonido.</P
><A
NAME="AEN5642"
></A
><P
> Grupo que tiene acceso a
       dispositivos de impresión.</P
><A
NAME="AEN5646"
></A
><P
> Grupo que tiene acceso a
	 unidades de disquette.</P
><A
NAME="AEN5650"
></A
><P
> Grupo que tiene acceso al
      CDROM.</P
><A
NAME="AEN5654"
></A
><P
> Grupo que tiene acceso al
      modem.</P
><A
NAME="AEN5658"
></A
><P
> Grupo que tiene acceso a discos
      de bajo nivel.</P
><A
NAME="AEN5662"
></A
><P
> Grupo que tiene acceso
      privilegiado a la memoria.</P
><A
NAME="AEN5666"
></A
><P
> Grupo que tiene acceso
    privilegiado a la consola.</P
><A
NAME="AEN5670"
></A
><P
> Comando que permite ver los
      grupos a los que pertenece un usuario.</P
><A
NAME="AEN5674"
></A
><P
> Comando que permite cambiarse a
      un grupo con clave.</P
><A
NAME="AEN5678"
></A
><P
> Comando que permite crear un
      grupo teniendo en cuenta políticas de Debian.</P
><A
NAME="AEN5682"
></A
><P
> Comando que permite eliminar un
      grupo.</P
><A
NAME="AEN5686"
></A
><P
> Comando que permite modificar
      información de un grupo.</P
><A
NAME="AEN5690"
></A
><P
> Comando que permite verificar
      información de los grupos.</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><B
CLASS="command"
>su [<TT
CLASS="replaceable"
><I
>usuario</I
></TT
>]</B
></DT
><DD
><P
>&#13;	 Permite entrar a una sesión como un usuario diferente, si no
	 se especifica un usuario como primer parametro,
	 <B
CLASS="command"
>su</B
> cambia al usuario root.  Desde una
	 cuenta de usuario pedirá la clave del nuevo usuario, e
	 iniciará el intérprete de comandos que el usuario haya
	 configurado.  Si se emplea la opción <TT
CLASS="option"
>-c
	 <TT
CLASS="replaceable"
><I
>comando</I
></TT
></TT
> el comando se
	 ejecutará.  Por defecto el ambiente y el directorio de
	 trabajo serán heredados de la sesión inicial, pero si se
	 desea iniciar con un ambiente y directorio como el que
	 tendría el usuario después de hacer login (pero sin ejecutar
	 archivos de inicialización del interprete de comandos),
	 emplee la opción <B
CLASS="command"
>-</B
>

	 <A
NAME="AEN5704"
HREF="#FTN.AEN5704"
>[1]</A
>.
	 
	 Si desea ejecutar un intérprete de comandos diferente al
	 configurado por el usuario emplee la opción <TT
CLASS="option"
>-s
	 <TT
CLASS="replaceable"
><I
>intérprete</I
></TT
></TT
>, donde
	 <TT
CLASS="replaceable"
><I
>intérprete</I
></TT
> debe ser la ruta
	 completa del intérprete de comandos que además debe estar
	 listada en el archivo
	 <TT
CLASS="filename"
>/etc/shells</TT
>
	 <A
NAME="AEN5718"
HREF="#FTN.AEN5718"
>[2]</A
>.  En Debian 2.2 <B
CLASS="command"
>su</B
> al igual
	 que <B
CLASS="command"
>login</B
> emplea los servicios de la
	 librería PAM (<I
CLASS="foreignphrase"
>Pluggable authentication
	 modules</I
>), así que puede configurar varios
	 detalles relacionados con seguridad de <B
CLASS="command"
>su</B
>
	 en el archivo <TT
CLASS="filename"
>/etc/pam.d/su</TT
> ---por
	 ejemplo para restringir el uso de este comando.
	</P
></DD
><DT
><B
CLASS="command"
>passwd
	 [<TT
CLASS="replaceable"
><I
>usuario</I
></TT
>]</B
></DT
><DD
><P
>&#13;	 Permite cambiar la clave del usuario especificado (sólo root
	 puede especificar un usuario). Si no se especifia un usuario
	 permite cambiar la clave de la cuenta desde la cual se
	 ejecuta.  Por defecto un usuario podrá cambiar su clave
	 cuando él/ella lo desee, aunque puede implementarse una
	 política de expiración de claves.  La política de un usuario
	 puede examinarse con la opción <TT
CLASS="option"
>-S</TT
> que
	 presenta: estado de la cuenta (L bloqueada, NP sin clave, P
	 con clave utilizable), fecha del último cambio de clave,
	 tiempos mínimo y máximo para cambiar clave, tiempo de avisos
	 y tiempo para desactivación.  Puede fijarse la política con
	 las siguentes opciones: <TT
CLASS="option"
>-x
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> para especificar el
	 máximo de días antes de que un usuario deba cambiar su clave
	 <A
NAME="AEN5735"
HREF="#FTN.AEN5735"
>[3]</A
>; <TT
CLASS="option"
>-w
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> para indicar con
	 cuantos días de anterioridad a la expiración de la clave el
	 sistema debe empezar a enviar correos recordando el cambio;
	 <TT
CLASS="option"
>-i <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> índica el
	 mínimo número de días que el usuario debe esperar para
	 cambiar nuevamente su clave; <TT
CLASS="option"
>-i
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> para deshabilitar
	 una cuenta cuya clave no haya sido cambiado en los días
	 especificados.  Una cuenta puede bloquearse para impedir que
	 pueda usarse con el programa login. Pueden bloquear y
	 desbloquear cuentas con las opciones <TT
CLASS="option"
>-u</TT
>
	 (de <I
CLASS="foreignphrase"
>unlock</I
>) y <TT
CLASS="option"
>-l</TT
>
	 respectivamente.
	</P
></DD
><DT
><B
CLASS="command"
>chage <TT
CLASS="replaceable"
><I
>usuario</I
></TT
></B
></DT
><DD
><P
>Cambia la información sobre el envejecimiento de la
	 clave de un usuario, cuando se están usando claves
	 shadow. Para cambiar el mínimo de días entre cambios se usa
	 la opción <TT
CLASS="option"
>-m
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> (0 índica que puede
	 cambiarse siempre), <TT
CLASS="option"
>-M
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> para indicar máximo
	 de días antes de la expiración de la clave, <TT
CLASS="option"
>-d
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> para establecer
	 fecha del último cambio de clave (contada en días a partir de
	 1/Ene/1975), <TT
CLASS="option"
>-E
	 <TT
CLASS="replaceable"
><I
>fecha</I
></TT
></TT
> fecha en la cual
	 la cuenta expirar (puede especificarse como una fecha
	 mm/dd/aaaa o contada en días a partir de 1/Ene/1975),
	 <TT
CLASS="option"
>-I <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
>
	 establece cantidad de días de inactividad antes de bloquear
	 una cuenta después de la expiración de la clave, <TT
CLASS="option"
>-W
	 <TT
CLASS="replaceable"
><I
>días</I
></TT
></TT
> cantidad de días de
	 preaviso antes de la expriación de la clave.
	</P
></DD
><DT
><B
CLASS="command"
>adduser <TT
CLASS="replaceable"
><I
>login</I
></TT
></B
></DT
><DD
><P
>Permite agregar un usuario con el login dado
	 <A
NAME="AEN5770"
HREF="#FTN.AEN5770"
>[4]</A
>, opcionalmente indicando el directorio de trabajo
	 (opción <TT
CLASS="option"
>­­home</TT
>) que de no existir será
	 creado, un número que identificará al usuario de forma única
	 (opción <TT
CLASS="literal"
>uid</TT
>), el grupo principal al que
	 pertenecerá (opción <TT
CLASS="option"
>­­ingroup
	 <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></TT
>), el intérprete de
	 comandos por defecto (opción <TT
CLASS="option"
>­­shell
	 <TT
CLASS="replaceable"
><I
>nombre</I
></TT
></TT
>) y otros datos del
	 usuario con la opción <TT
CLASS="option"
>­­gecos
	 "<TT
CLASS="replaceable"
><I
>datos</I
></TT
>"</TT
> (los datos se
	 separan con comas y por defecto son: nombre, número de
	 cuarto, teléfono del trabajo y teléfono de la casa).  A menos
	 que se especifique <TT
CLASS="option"
>­­disabled-login</TT
> o
	 <TT
CLASS="option"
>­­disabled-password</TT
> pedirá clave
	 inmediatamente después de crear la cuenta
	 (<TT
CLASS="option"
>­­disabled-login</TT
> bloquea la cuenta hasta
	 que se asigne una clave,
	 <TT
CLASS="option"
>­­disabled-password</TT
> no bloquea la cuenta
	 pero asigna una clave no válida, el usuario podría entrar por
	 ejemplo con RSA ssh).
	</P
><P
>&#13;	 Las operaciones que <B
CLASS="command"
>adduser</B
> realiza se
	 configuran en el archivo
	 <TT
CLASS="filename"
>/etc/adduser.conf</TT
>.  Por defecto creará
	 cuentas de usuarios en el directorio
	 <TT
CLASS="filename"
>/home</TT
> y copiará en los nuevos
	 directorios los archivos del directorio
	 <TT
CLASS="filename"
>/etc/skel</TT
> (e.g
	 <TT
CLASS="filename"
>.bash_profile</TT
>), pondrá como intérprete de
	 comandos por defecto <B
CLASS="command"
>/usr/bin/bash</B
> y
	 asignará un número de usuario
	 <A
NAME="AEN5801"
HREF="#FTN.AEN5801"
>[5]</A
> de acuerdo a la política de Debian y asignará un
	 grupo nuevo a cada usuario.  Normalmente después para agregar
	 un usuario debe especificar la clave que tendrá, si prefiere
	 crear una cuenta inicialmente sin clave emplee la opción
	 <TT
CLASS="option"
>­­disabled-password</TT
> (antes de poder
	 emplear la cuenta debe establecer la clave con
	 <B
CLASS="command"
>passwd</B
>).
	 
	</P
></DD
><DT
><B
CLASS="command"
>chfn [<TT
CLASS="replaceable"
><I
>login</I
></TT
>]</B
></DT
><DD
><P
>Para cambiar la información GECOS de un usuario (si no
	 se especifica un login se cambiará la información del usuario
	 que emplee el programa).  Como opciones recibe <TT
CLASS="option"
>-f
	 <TT
CLASS="replaceable"
><I
>nombre</I
></TT
></TT
>, <TT
CLASS="option"
>-r
	 <TT
CLASS="replaceable"
><I
>cuarto</I
></TT
></TT
>, <TT
CLASS="option"
>-w
	 <TT
CLASS="replaceable"
><I
>teléfono_trabajo</I
></TT
></TT
>, <TT
CLASS="option"
>-h
	 <TT
CLASS="replaceable"
><I
>teléfono casa</I
></TT
></TT
> y <TT
CLASS="option"
>-o
	 <TT
CLASS="replaceable"
><I
>otros_datos</I
></TT
></TT
>. Nuestra
	 sugerencia es emplear en lugar de cuarto el grado y en lugar
	 del teléfono del trabajo la dirección de la casa.  Estos
	 datos no deben contener los caracteres ',' ';' ni '='. Los
	 datos que no se especifiquen en la línea de comandos serán
	 solicitados interactivamente.  <B
CLASS="command"
>chfn</B
>
	 también será llamado por <B
CLASS="command"
>passwd</B
> si se
	 emplea la opción <TT
CLASS="option"
>-f</TT
>.
	</P
></DD
><DT
><B
CLASS="command"
>chsh [<TT
CLASS="replaceable"
><I
>login</I
></TT
>]</B
></DT
><DD
><P
>Para cambiar el intérprete de comandos de un usuario
	 (si no se especifica un login se cambiará el intérprete del
	 usuario que emplee el programa). Como opción recibe el nombre
	 del intérprete, el cual debe estar listado en el archivo
	 <TT
CLASS="filename"
>/etc/shells</TT
>.  Un usuario que emplee un
	 intérprete de comandos restringido
	 (<TT
CLASS="filename"
>/bin/rsh</TT
>) no puede cambiar su shell.
	 <B
CLASS="command"
>chsh</B
> también será llamado por
	 <B
CLASS="command"
>passwd</B
> si se emplea la opción
	 <TT
CLASS="option"
>-s</TT
>.
 	</P
></DD
><DT
><B
CLASS="command"
>deluser <TT
CLASS="replaceable"
><I
>login</I
></TT
></B
></DT
><DD
><P
>Para eliminar una cuenta Por defecto no elimina el
	 directorio personal ni la cola de correos, puede indicarse
	 que se borren estos directorios con la opción
	 <TT
CLASS="option"
>­­remove-home</TT
> y puede indicarse que se
	 busquen y eliminen todos los archivos del usuario (en los
	 demás directorios) con la opción
	 <TT
CLASS="option"
>­­remove-all-files</TT
>.  Con la opción
	 <TT
CLASS="option"
>­­backup</TT
> creará un archivo comprimido con
	 los datos del usuario en el directorio de trabajo con nombre
	 login.tar.gz.  El comportamiento por defecto de este comando
	 puede configurarse en el archivo
	 <TT
CLASS="filename"
>/etc/deluser.conf</TT
>.
	</P
></DD
></DL
></DIV
><P
>La información sobre usuarios se mantiene en el archivo que
      todos los usuarios pueden leer:
      <TT
CLASS="filename"
>/etc/passwd</TT
>.  Cada línea de este archivo
      tiene información de un usuario separada con el caracter ':'.
      De cada usuario mantiene:
     </P
><P
></P
><UL
><LI
><P
><TT
CLASS="literal"
>login</TT
> </P
></LI
><LI
><P
>Clave o un caracter de control. En sistemas Unix las
	claves antes de ser almacenadas en este archivo (para su
	posterior comparación) son convertidas a una secuencia de
	letras y números con un algoritmo (bien DES o bien
	MD5
	<A
NAME="AEN5858"
HREF="#FTN.AEN5858"
>[6]</A
> ), cada vez que un usuario desea ingresar al
       sistema la clave que teclea se transforma con ese algoritmo y
       se compará con la almacenada para dar acceso sólo si son
       iguales.  Por las características de DES y MD5 es muy dificil
       recuperar la clave original partiendo de la información
       almacenada en <TT
CLASS="filename"
>/etc/passwd</TT
> así que una
       persona con acceso a este archivo no podrá conocer facilmente
       las claves de los usuarios.  Sin embargo es mejor emplear el
       sistema de claves shadow, que mantiene las claves en un archivo
       aparte que sólo pueda ser leido por el administrador:
       <TT
CLASS="filename"
>/etc/shadow</TT
>, las cuentas que empleen este
       mecanismo tendrán un caracter 'x' en lugar de clave.  Tanto en
       <TT
CLASS="filename"
>/etc/passwd</TT
> como en
       <TT
CLASS="filename"
>/etc/shadow</TT
> en lugar de clave transformada
       puede aparecer el caracter '*' para indicar que la cuenta tiene
       clave deshabilitada (opción
       <TT
CLASS="option"
>­­disabled-password</TT
> de
       <TT
CLASS="option"
>adduser</TT
>), el usuario podría ingresar con RSA
       ssh.  En lugar de la clave también puede aparecer el caracter
       '!' para indicar que la cuenta está bloqueada (opción
       <TT
CLASS="option"
>­­disabled-login</TT
> de
       <B
CLASS="command"
>adduser</B
>), en este caso el usuario no podrá
	entrar con <B
CLASS="command"
>login</B
> ni con
       <SPAN
CLASS="application"
>gdm</SPAN
> ni con RSA ssh, pero si con
       <B
CLASS="command"
>su</B
> y se ejecutarán procesos del usuarios
       iniciados por <B
CLASS="command"
>cron</B
> o <B
CLASS="command"
>at</B
>.
      </P
><P
>está bloqueada (el usuario no podrá entrar con
	<SPAN
CLASS="application"
>login</SPAN
> o
	<SPAN
CLASS="application"
>gdm</SPAN
> pero si con
	<SPAN
CLASS="application"
>rlogin</SPAN
> o <B
CLASS="command"
>su</B
> y se
	ejecutarán procesos del usuarios iniciados por
	<B
CLASS="command"
>cron</B
> o <B
CLASS="command"
>at</B
>).
       </P
></LI
><LI
><P
><SPAN
CLASS="acronym"
>GID</SPAN
>, es decir número que identifica al
       grupo principal del usuario.
       </P
></LI
><LI
><P
>información GECOS
	<A
NAME="AEN5885"
HREF="#FTN.AEN5885"
>[7]</A
>, los datos se separan entre si con comas.
	</P
></LI
><LI
><P
>directorio personal </P
></LI
><LI
><P
>intérprete de comandos
      </P
></LI
></UL
><P
>En el archivo
      <TT
CLASS="filename"
>/etc/shadow</TT
>
      <A
NAME="AEN5893"
HREF="#FTN.AEN5893"
>[8]</A
> hay una línea por cada usuario con los siguientes
      datos separados por ':': </P
><P
></P
><UL
><LI
><P
>Login</P
></LI
><LI
><P
>Clave transformada</P
></LI
><LI
><P
>Fecha del último cambio de la clave (contada en días a
	partir del Enero 1 de 1975).  </P
></LI
><LI
><P
>Días por esperar antes de que la clave pueda ser
      cambiada.</P
></LI
><LI
><P
>Máximo de días antes de exigir un cambio de clave.</P
></LI
><LI
><P
>Cantidad de días de preaviso antes de expiración de
	clave.</P
></LI
><LI
><P
>Cantidad de días entre expiración de clave y bloqueo de
	cuenta.</P
></LI
><LI
><P
>Fecha desde la cual la cuenta está deshabilitada (contada
	en días desde Enero 1 de 1975).  </P
></LI
><LI
><P
>Campo reservado.</P
></LI
></UL
><P
>Aunque puede editar manualmente
      <TT
CLASS="filename"
>/etc/passwd</TT
> y
      <TT
CLASS="filename"
>/etc/shadow</TT
> es recomendable que emplee los
      programas presentados en esta sección.  Los
      <SPAN
CLASS="acronym"
>GID</SPAN
> y <SPAN
CLASS="acronym"
>UID</SPAN
> reservados en un
      sistema Debian están en los archivos
      <TT
CLASS="filename"
>/usr/share/base-passwd/group.master</TT
> y
      <TT
CLASS="filename"
>/usr/share/base-passwd/passwd.master</TT
>, si
      algún programa o adminsitrador erradamente asigna alguno de
      estos números puede emplear <SPAN
CLASS="application"
>update-passwd</SPAN
>
      para reasignar los originales.
    </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="grupos"
>Grupos</A
></H3
><P
>El objetivo de los grupos es dar o restringir permisos sobre
      algunos archivos a ciertos usuarios (ver <A
HREF="c1054.htm#archivos-y-permisos"
>Archivos y permisos</A
>).  Por
      ejemplo un archivo <TT
CLASS="literal"
>reporte.txt</TT
> que pertenezca
      al grupo <TT
CLASS="literal"
>profesores</TT
>, que tenga permiso de
      lectura para el grupo y no para otros usuarios (si por ejemplo
      se estableció con <TT
CLASS="literal"
>chmod ug=rw reporte.txt</TT
>),
      podrá ser leído únicamente por el dueño y por usuarios que
      pertenezcan al grupo <TT
CLASS="literal"
>profesores</TT
>.</P
><P
>Cada usuario tiene un grupo principal (puede especificarse
      durante la creación con la opción <TT
CLASS="option"
>­­gid
       <TT
CLASS="replaceable"
><I
>GID</I
></TT
></TT
> o <TT
CLASS="option"
>­­ingroup
       <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></TT
> de
      <B
CLASS="command"
>adduser</B
>), puede pertenecer a diversos grupos y
      si conoce la clave de algún grupo con clave puede volverse
      miembro durante una sesión.  Los programas relacionados con
      grupos son:
    </P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><B
CLASS="command"
>&#13;	 adduser <TT
CLASS="replaceable"
><I
>usuario</I
></TT
>
	 <TT
CLASS="replaceable"
><I
>grupo</I
></TT
>
	</B
></DT
><DD
><P
>Para agregar un usuario a un grupo.  En Debian algunos
	 dispositivos pertenecen a ciertos grupos, de forma que es
	 indispensable agregarlos como grupos secundarios de los
	 usuarios que los requieran:
	</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>audio</TT
></DT
><DD
><P
>Permite acceder a dispositivos de sonido.</P
></DD
><DT
><TT
CLASS="literal"
>lp</TT
></DT
><DD
><P
>Permite acceder a los puertos locales de impresión.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>floppy</TT
></DT
><DD
><P
>Para acceder a la(s) unidad(es) de disquette.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>tape</TT
>, <TT
CLASS="literal"
>cdrom</TT
></DT
><DD
><P
>Ambos son requeridos para acceder al
	   <SPAN
CLASS="acronym"
>CDROM</SPAN
>.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>dialout</TT
></DT
><DD
><P
>Para acceder a modems.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>disk</TT
></DT
><DD
><P
>Cuando se requiere acceder a discos a bajo nivel.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>kmem</TT
></DT
><DD
><P
>Para acceder de forma privilegiada la memoria.</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="literal"
>tty</TT
></DT
><DD
><P
>Para acceder de forma privilegiada a la consola.</P
></DD
></DL
></DIV
></DD
><DT
><B
CLASS="command"
>groups</B
></DT
><DD
><P
>Un usuario puede ver los grupos a los que pertenece con
	 este programa.
	</P
></DD
><DT
><B
CLASS="command"
>newgrp [<TT
CLASS="replaceable"
><I
>grupo</I
></TT
>]</B
></DT
><DD
><P
>Para cambiarse a un grupo con clave.  Si no se específica
	 grupo alguno se cambiará al grupo principal del usuario.  Con
	 la opción <TT
CLASS="option"
>-</TT
> el ambiente será
	 reinicializado como al inicio de la sesión
	 <A
NAME="AEN6009"
HREF="#FTN.AEN6009"
>[9]</A
>.
	</P
></DD
><DT
><B
CLASS="command"
>passwd -g <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></B
></DT
><DD
><P
>Para cambiar la clave de un grupo.  Para quitar la clave
	 de un grupo se emplea <B
CLASS="command"
>passwd -g -r
	  <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></B
> ---los programas
	 <B
CLASS="command"
>newgrp</B
> y <B
CLASS="command"
>sg</B
> no permiten
	 cambiarse a un grupo sin clave.
	</P
></DD
><DT
><B
CLASS="command"
>gpasswd <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></B
></DT
><DD
><P
>Para administrar grupos con clave, puede ser usado por
	 el administrador del sistema y por el administrador de un
	 grupo con clave.  Con la opción <TT
CLASS="option"
>-A
	 <TT
CLASS="replaceable"
><I
>login</I
></TT
></TT
> el administrador
	 del sistema puede agregar un administrador de grupo a un
	 grupo, con la opción <TT
CLASS="option"
>-M
	 <TT
CLASS="replaceable"
><I
>login</I
></TT
></TT
> puede retirarse la
	 administración de un grupo a un usuario, con la opción
	 <TT
CLASS="option"
>-r</TT
> puede quitarse la clave a un grupo con
	 clave y con la opción <TT
CLASS="option"
>-R</TT
> puede inhibir el
	 acceso con <B
CLASS="command"
>newgrp</B
> a un grupo con clave.
	 Un administrador de grupo puede agregar y eliminar usuarios
	 del grupo con las opciones <TT
CLASS="option"
>-a
	 <TT
CLASS="replaceable"
><I
>login</I
></TT
></TT
> y <TT
CLASS="option"
>-d
	 <TT
CLASS="replaceable"
><I
>login</I
></TT
></TT
> respectivamente.
	</P
></DD
><DT
><B
CLASS="command"
>addgroup <TT
CLASS="replaceable"
><I
>nombre</I
></TT
></B
></DT
><DD
><P
>Permite agregar un grupo con el nombre
	 dado
	 <A
NAME="AEN6048"
HREF="#FTN.AEN6048"
>[10]</A
>
	 Con la opción <TT
CLASS="option"
>­­gid
	  <TT
CLASS="replaceable"
><I
>ID</I
></TT
></TT
> puede especificarse
	  el número que identificará al grupo, número acorde con el
	 archivo <TT
CLASS="filename"
>/etc/adduser.conf</TT
> y a las
	 convenciones de Debian: 0-100 estáticos reservados para
	 Debian, 100-999 localizados dinámicamente para grupos del
	 sistema, 1000-29999 para grupos normales (ver descripción
	  del comando <B
CLASS="command"
>adduser</B
> en la sección
	 anterior).
	</P
></DD
><DT
><B
CLASS="command"
>groupdel <TT
CLASS="replaceable"
><I
>group</I
></TT
></B
></DT
><DD
><P
>Permite eliminar un grupo.  Sólo pueden eliminarse grupos
	 que no sean el grupo principal de algún usuario.
	</P
></DD
><DT
><B
CLASS="command"
>groupmod <TT
CLASS="replaceable"
><I
>grupo</I
></TT
></B
></DT
><DD
><P
>Permite modificar información de un grupo. Las opciones
	 posible son: <TT
CLASS="option"
>-g <TT
CLASS="replaceable"
><I
>GID</I
></TT
></TT
>
	 para cambiar el número que identifica al grupo (ver
	 convenciones en descripción de <B
CLASS="command"
>addgroup</B
>) y
	 <TT
CLASS="option"
>-n <TT
CLASS="replaceable"
><I
>nombre</I
></TT
></TT
> para
	 cambiar el nombre del grupo.  El número que identifica al
	 grupo debe ser único, excepto si se emplea la opción
	 <TT
CLASS="option"
>-o</TT
> (para crear grupos alias, aunque el
	 sistema de archivos no necesariamente presentará el alias
	 como grupo dueño).
	</P
></DD
><DT
><B
CLASS="command"
>grpck</B
></DT
><DD
><P
>Para verificar la información de grupos en
	 <TT
CLASS="filename"
>/etc/group</TT
> y
	 <TT
CLASS="filename"
>/etc/gshadow</TT
>. Con la opción
	 <TT
CLASS="option"
>-r</TT
> abre estos archivos en modo de sólo
	 lectura.
	</P
></DD
></DL
></DIV
><P
>La información de grupos se consigna en
      <TT
CLASS="filename"
>/etc/groups</TT
>, cada línea tiene los
      siguientes datos de un grupo separados uno de otro con el
      caracter ':'
     </P
><P
></P
><UL
><LI
><P
>Nombre del grupo</P
></LI
><LI
><P
>Clave del grupo transformada con <SPAN
CLASS="acronym"
>DES</SPAN
> o
       <SPAN
CLASS="acronym"
>MD5</SPAN
>.  Si el grupo tiene clave shadow en este
       archivo aparecerá el caracter 'x' y la clave transformada
       estará en otro archivo (por defecto
       <TT
CLASS="filename"
>/etc/gshadow</TT
>.
       </P
></LI
><LI
><P
><SPAN
CLASS="acronym"
>GID</SPAN
>
      </P
></LI
><LI
><P
>Lista de usuarios del grupo separados con comas.
       </P
></LI
></UL
><P
>No es recomendable editar directamente estos archivos, sino
      más bien emplear los programas presentados en esta sección.
     </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="inicio-de-sesiones-en-consolas-virtuales"
>Inicio de sesiones en consolas virtuales</A
></H3
><P
>Una sesión iniciada desde una consola virtual o desde una
      conexión remota (via <B
CLASS="command"
>telnet</B
>,
      <B
CLASS="command"
>rsh</B
> o <B
CLASS="command"
>ssh</B
>) es atendida
      inicialmente por el programa <B
CLASS="command"
>getty</B
> (ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
      Configuración de una sesión</A
>.  El mensaje que presenta
      <B
CLASS="command"
>getty</B
> se configura en el archivo
      <TT
CLASS="filename"
>/etc/issue</TT
> y puede contener algunas
      secuencias especiales como: <TT
CLASS="literal"
>\d</TT
> que
      corresponde a la fecha, <TT
CLASS="literal"
>\s</TT
> al nombre del
      sistema operativo, <TT
CLASS="literal"
>\l</TT
> al número de la consola
      virtual (línea tty), <TT
CLASS="literal"
>\m</TT
> al tipo de procesador
      (e.g i486), <TT
CLASS="literal"
>\n</TT
> al nombre de la máquina,
      <TT
CLASS="literal"
>\u</TT
> cantidad de usuarios conectados. Por
      ejemplo, si el archivo <TT
CLASS="filename"
>/etc/issue</TT
> es:
<PRE
CLASS="programlisting"
>&#13;Debian \s 2.2 en un \m. \n \u \l
</PRE
>

     <B
CLASS="command"
>getty</B
> mostrará un mensaje como:
<PRE
CLASS="screen"
>&#13;Debian Linux 2.2 en un i586. oxigeno 3 tty1
</PRE
>
    </P
><P
>Cuando un usuario teclea su login, <B
CLASS="command"
>getty</B
>
     pasa el control al programa <B
CLASS="command"
>login</B
>.  El
     programa <B
CLASS="command"
>login</B
> por intermedio de la librería
     PAM espera la clave del usuario y la válida, cuando el usuario da
     la clave correcta verifica que el acceso para ese usuario a la
     hora del ingreso sea posible
      <A
NAME="AEN6124"
HREF="#FTN.AEN6124"
>[11]</A
> y entonces inicializa algunas variables de ambiente,
	muestra algunos mensajes (por defecto la fecha de la última
	conexión y el contendio del archivo
	<TT
CLASS="filename"
>/etc/motd</TT
>
      <A
NAME="AEN6128"
HREF="#FTN.AEN6128"
>[12]</A
>
      ) e inicia un intérprete de comandos (el que está configurado
      para el usuario en <TT
CLASS="filename"
>/etc/passwd</TT
>).  Las
      acciones que <B
CLASS="command"
>login</B
> realiza pueden
      configurarse en los archivos <TT
CLASS="filename"
>/etc/login.def</TT
>
      y <TT
CLASS="filename"
>/etc/pam.d/login</TT
>, las consolas desde las
      cuales puede ingresar el usuario root se configuran en
      <TT
CLASS="filename"
>/etc/securetty</TT
>, otras restricciones de
      seguridad pueden configurarse en los archivos del directorio
      <TT
CLASS="filename"
>/etc/security</TT
>
     <A
NAME="AEN6137"
HREF="#FTN.AEN6137"
>[13]</A
>.
     </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="inicio-de-sesiones-x-dash-window"
>Inicio de sesiones X-Window</A
></H3
><P
>Algunas generalidades sobre X-Window y la visión del
      usuario final se presentaron en el capítulo anterior (ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
      Configuración de una sesión</A
>), en esta sección presentamos
      como puede iniciarse un servidor X-Window y algunos aspectos de
      su configuración.
     </P
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
NAME="AEN6143"
>Servidor X</A
></H4
><P
>Un servidor X configurado maneja el modo gráfico de la
       tarjeta de video, teclado y un apuntador (ratón, tarjeta
       graficadora) para interactuar con el usuario y atender
       programas que lo emplean como clientes X-Window.  Un cliente
       X-Window normalmente estará corriendo en la misma máquina donde
       está el servidor, aunque puede estar en otra máquina ver <A
HREF="x1647.htm"
>Servicios de la
       Intranet</A
>.  Para iniciar un servidor X se emplea el
       programa <TT
CLASS="filename"
>X</TT
> (cuya ruta completa normalmente
       es <TT
CLASS="filename"
>/usr/X11R6/bin/X</TT
> y que es un enlace al
       ejecutable del servidor que haya configurado para su hardware).
       Cada servidor X tiene una identificación como
       <TT
CLASS="literal"
>natura.micolegio.edu.co:0.0</TT
> compuesta por el
       nombre de la máquina, un número de vista (una vista se refiere
       a una colección de monitores con un teclado y apuntador común)
       y un número de pantalla (en caso de que un computador tenga más
       de un monitor).  En un mismo computador pueden iniciarse varios
       servidores X, cada uno con un númeo de vista diferente.  Por
       ejemplo para iniciar como vista 0 un servidor X en la consola
       virtual 9 (pasa a ella con <B
CLASS="keycap"
>Ctrl-Alt-F9</B
>, ver
       <A
HREF="x328.htm"
>Sistema
       de usuarios y manejo de clave</A
>):</P
><PRE
CLASS="screen"
>&#13;/usr/X11R6/bin/X :0 vt9 
</PRE
><P
>&#13;     Simultáneamente podría iniciarse como vista 1 en la consola
     virtual 3 otro con:</P
><A
NAME="AEN6154"
></A
><P
>Aplicación encargada de manejar
      el modo gráfico, teclado y apuntador.</P
><PRE
CLASS="screen"
>&#13;/usr/X11R6/bin/X :1 vt3 
 </PRE
><P
>&#13;       Por defecto si no se especifica una consola virtual por usar,
      <SPAN
CLASS="application"
>X</SPAN
> buscara y empleará la primera libre.
      </P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
NAME="AEN6161"
>Administrador de vistas
       <SPAN
CLASS="application"
>xdm</SPAN
></A
></H4
><P
>Se configura en
       <TT
CLASS="filename"
>/etc/X11/xdm/xdm-config</TT
> y
       <TT
CLASS="filename"
>/etc/X11/xdm/xdm.options</TT
>, este
       administrador de vistas puede administrar uno o más servidores
       en una o varias máquinas (configurados en
       <TT
CLASS="filename"
>/usr/lib/X11/xdm/XServer</TT
>), y permite usar
       terminales X con el protocolo <SPAN
CLASS="acronym"
>XDMCP</SPAN
>.
    </P
><A
NAME="AEN6169"
></A
><P
>Administrador de vistas de
     X-Window.</P
><P
>En cada servidor que maneja ejecuta el script
       <TT
CLASS="filename"
>/usr/lib/X11/xdm/XSetup</TT
> y después permite
       el inicio de sesiones presentando el widget Xlogin que pide
       login y clave a cada usuario y que usa los los recursos de
       X-Window definidos en
       <TT
CLASS="filename"
>/usr/lib/X11/xdm/Xresources</TT
> (en particular
       la imagen presentada).
      </P
><P
>Cuando un usuario se autentica se ejecutan los scripts:
       <TT
CLASS="filename"
>/usr/lib/X11/xdm/Xstartup</TT
> como root (que
       por defecto sólo agrega la autenticación a la bitácora
       <TT
CLASS="filename"
>utmp</TT
>), después
       <TT
CLASS="filename"
>/usr/lib/X11/xdm/Xsession</TT
> como
       usuario. Este último ejecuta
       <B
CLASS="command"
>/etc/X11/Xsession</B
> el cual ejecuta todos los
       scripts del directorio <TT
CLASS="filename"
>/etc/X11/xsession.d</TT
> que por
       defecto mezclan recursos de X-Window (tanto del sistema como de
       usuario) y ejecutan el script <TT
CLASS="filename"
>~/.xsession</TT
>
       el cual debe ser configurado por el usuario (ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
       Configuración de una sesión</A
>).  Algunas variables que
       afectan la ejecución de los scripts de
       <TT
CLASS="filename"
>/etc/X11/Xsession.d</TT
> se configuran en
       <TT
CLASS="filename"
>/etc/X11/Xsession.options</TT
>, puede consultarse
       ayuda sobre estas variables con <B
CLASS="command"
>man
	Xsession.options</B
>.
      </P
><P
>Cuando la ejecución de <TT
CLASS="filename"
>~/.xsession</TT
>
       concluye, <SPAN
CLASS="application"
>xdm</SPAN
> cierra la sesión con el script
       <TT
CLASS="filename"
>/usg/lib/X11/xdm/Xreset</TT
>.
      </P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
NAME="AEN6190"
><SPAN
CLASS="application"
>xinit</SPAN
> o
       <SPAN
CLASS="application"
>startx</SPAN
></A
></H4
><P
>&#13;      <SPAN
CLASS="application"
>xinit</SPAN
> es un programa para iniciar
      desde la línea de comandos una sesión de X-Window teniendo en
      cuenta la configuración del usuario.  Para esto inicia el
      servidor X configurado en <TT
CLASS="filename"
>~/.xserverrc</TT
> o en
      <TT
CLASS="filename"
>/etc/X11/xinit/xserverrc</TT
> (que normalmente
      es <TT
CLASS="filename"
>/usr/X11R6/bin/X</TT
>) y después ejecuta el
      archivo de configuración <TT
CLASS="filename"
>~/.xinitrc</TT
> o en su
      defecto <TT
CLASS="filename"
>~/.xsession</TT
> o a falta de los
      anteriores <TT
CLASS="filename"
>/usr/lib/X11/xinit/xinitrc</TT
>. La
      sintaxis de <TT
CLASS="filename"
>~/.xinitrc</TT
> es la misma de
      <TT
CLASS="filename"
>~/.xsession</TT
> ---sólo que el primero hereda
      las variables de ambiente del interprete de comandos (la
      sintaxis de <TT
CLASS="filename"
>~/.xsession</TT
> puede consultarse
      en ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
      Configuración de una sesión</A
>).
    </P
><P
><SPAN
CLASS="application"
>startx</SPAN
> tiene exactamente el mismo
     propósito (de hecho ejecuta <TT
CLASS="literal"
>xinit</TT
>).
    </P
><A
NAME="AEN6209"
></A
><P
>Comando que permite iniciar una
      sesión de X-Window (no es xinit).</P
><A
NAME="AEN6213"
></A
><P
>Comando que permite inicar una
      sesión de X-Window (no es startx).</P
><P
>Estos comandos son especialmente útiles durante la
      configuración de X-Window, bien cuando no se ha logrado
      configurar para los dispositivos de su computador (y en ese caso
      <B
CLASS="command"
>xdm</B
> no puede iniciar), o bien para probar
      cambios más rapidamente.
     </P
><P
>Eventualmente mientras <B
CLASS="command"
>xdm</B
> esté operando
      usted puede querer hacer cambios a la configuración de X-Window,
      termine en ese caso <B
CLASS="command"
>xdm</B
> (con
      <B
CLASS="command"
>/etc/init.d/xdm stop</B
> o buscando y matando el
      proceso de <B
CLASS="command"
>xdm</B
>), términe el servidor X que
      esté corriendo, haga los cambios necesarios y después ejecute
      <B
CLASS="command"
>startx</B
>.
     </P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
NAME="AEN6225"
>Administrador de vistas <SPAN
CLASS="application"
>gdm</SPAN
> y
       Gnome</A
></H4
><P
>El administrador de vistas <SPAN
CLASS="application"
>gdm</SPAN
> es
       similar a <SPAN
CLASS="application"
>xdm</SPAN
> aunque ofrece mejoras en la
       presentación.
      </P
><A
NAME="AEN6231"
></A
><P
>Administrador de vistas de
       Gnome.</P
><P
>Se configura en el archivo <TT
CLASS="filename"
>gdm.conf</TT
> y
       en scripts cuyo nombre sea el número de vista
       (e.g. <TT
CLASS="filename"
>:0</TT
>) o <TT
CLASS="filename"
>Default</TT
>
       en los directorios: </P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="filename"
>/etc/gdm/Init</TT
></DT
><DD
><P
>&#13;	  Cuando <SPAN
CLASS="application"
>gdm</SPAN
> inicia.
	 </P
></DD
><DT
><TT
CLASS="filename"
>/ete/gdm/PreSession</TT
></DT
><DD
><P
>&#13;	  Cada vez que un usuario abre una sesión.
	 </P
></DD
><DT
><TT
CLASS="filename"
>/etc/gdm/PostSession</TT
></DT
><DD
><P
>Cada vez que un usuario cierra una sesión.
	 </P
></DD
></DL
></DIV
><P
>En el directorio <TT
CLASS="filename"
>/etc/gdm/Sessions</TT
>
       hay scripts que serán ejecutados de acuerdo a la sesión que el
       usuario en el menú tipo de sesión durante la autenticación.
      </P
><P
>El script que inicia la sesión Gnome, por defecto carga
       algunas variables de ambiente de
       <TT
CLASS="filename"
>/etc/login.defs</TT
>, mezcla recursos del
       sistema <TT
CLASS="filename"
>/etc/X11/Xresources</TT
> y del usuario
       (<TT
CLASS="filename"
>~/.Xresources</TT
>, activa configuración de
       teclado especializada del sistema y del usuario
       (<TT
CLASS="filename"
>/etc/X11/Xmodmap</TT
> y
       <TT
CLASS="filename"
>~/.Xmodmap</TT
>), ejecuta el archivo de
       configuración de Gnome del usuario
       <TT
CLASS="filename"
>~/.gnomerc</TT
> e inicia el administrador de
       sesiones GNOME: <TT
CLASS="filename"
>gnome-session</TT
>.
      </P
></DIV
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="variables-de-ambiente-en-consolas-virtuales-y-x-dash-window"
>Variables de ambiente en consolas virtuales y X-Window</A
></H3
><P
>La mayoría de intérpretes de comandos, incluyendo
      <SPAN
CLASS="application"
>bash</SPAN
>, leen información de configuración
      primero del archivo <TT
CLASS="filename"
>/etc/profile</TT
> y después
      de archivos de configuración del usuario (ver <A
HREF="x4476.htm#lectura-configuracion-de-una-sesion"
>Lectura
      Configuración de una sesión</A
>).
     </P
><P
>Sin embargo si emplea un administrador de vistas como
      <SPAN
CLASS="application"
>xdm</SPAN
>, <SPAN
CLASS="application"
>gdm</SPAN
> o
      <SPAN
CLASS="application"
>kdm</SPAN
> estos programas por defecto no
      leerán ese archivo, así que para establecer variables antes de
      que un administrador de escritorio o un manejador de ventanas
      inicie debe emplearse un archivo de configuración propio del
      administrador de vistas.  En el caso de
      <SPAN
CLASS="application"
>gdm</SPAN
> el valor de la variable
      <TT
CLASS="envar"
>PATH</TT
> puede establecerse en
      <TT
CLASS="filename"
>/etc/X11/gdm/gdm.conf</TT
> (línea DefaultPath) y
      otras variables pueden establecerse en el archivo que controla
      el tipo de sesión (con <SPAN
CLASS="application"
>gdm</SPAN
> el usuario puede
      escoger el tipo de sesión al que desea entrar e.g Xsession,
      Debian, Gnome).  Los archivos que controlan las sesiones son
      scripts localizados en el directorio
      <TT
CLASS="filename"
>/etc/X11/gdm/Sessions</TT
> --son scripts
      normalmente cortos que puede revisar y editar para configurar el
      inicio de sesiones gráficas.
     </P
><P
>La solución más general y rápida para establecer variables
      de ambiente es configurarlas en el archivo
      <TT
CLASS="filename"
>/etc/security/pam_env.conf</TT
> que es leido por
      <SPAN
CLASS="acronym"
>PAM</SPAN
> --que a su vez es usado tanto por
      <B
CLASS="command"
>login</B
> como por administradores de displays
      como <SPAN
CLASS="application"
>xdm</SPAN
> y
      <SPAN
CLASS="application"
>gdm</SPAN
>.  Si desea configurar
      <TT
CLASS="envar"
>PATH</TT
> tenga en cuenta modificar
      <TT
CLASS="filename"
>/etc/profile</TT
> y el archivo de configuración
      de su administrador de displays para que no la sobreescriban.
    </P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="lecturas-recomandadas-administracion-de-usuarios"
>Lectura recomendadas: Administración de usuarios</A
></H2
><P
></P
><UL
><LI
><P
>Otra presentación del sistema de usuarios está disponible
       por ejemplo en la sección 4.6 de "<I
CLASS="citetitle"
>Linux Installation
       and Getting Started</I
>" <A
HREF="http://www.linuxdoc.org/LDP/gs/node6.html#secmanageusers"
TARGET="_top"
>http://www.linuxdoc.org/LDP/gs/node6.html#secmanageusers</A
>
      </P
></LI
><LI
><P
>Páginas del manual del sistema de cada una de las
       herramientas mencionadas en esta sección (en la primera guía se
       presentan direcciones en Internet donde puede consultar las
       páginas <B
CLASS="command"
>man</B
> (ver <A
HREF="x836.htm"
>Búsqueda y
	consulta de documentación</A
>).  </P
></LI
><LI
><P
>Puede consultar las políticas sobre numeración de grupos y
       usuarios en la sección 3.2 de "<I
CLASS="citetitle"
>Debian Policy
       Manual</I
>".  En un sistema Debian están disponibles en
       el directorio <TT
CLASS="filename"
>/usr/doc/debian-policy</TT
>, en
       Internet el documento está en: <A
HREF="http://www.debian.org/doc/debian-policy/"
TARGET="_top"
>http://www.debian.org/doc/debian-policy/</A
>
      </P
></LI
><LI
><P
>Puede consultar más documentación sobre el sistema de
       claves en <B
CLASS="command"
>info libc</B
> el manual de libc o en
       Internet en <A
HREF="http://www.gnu.org/manual/glibc-2.2.3/html_chapter/libc_29.html#SEC602"
TARGET="_top"
>http://www.gnu.org/manual/glibc-2.2.3/html_chapter/libc_29.html#SEC602</A
>.
     </P
></LI
><LI
><P
>Si instala en su sistema el paquete libpam-doc (ver <A
HREF="x7217.htm"
>Administración de
	programas</A
>), puede consultar más sobre
	<SPAN
CLASS="acronym"
>PAM</SPAN
>, su configuración y los módulos
	disponibles en el directorio
	<TT
CLASS="filename"
>/usr/share/doc/libpam-doc</TT
>.
      </P
></LI
><LI
><P
>Puede consultar información sobre X-Window y el
       administrador de vistas x en las páginas man:
       <TT
CLASS="literal"
>X</TT
>, <TT
CLASS="literal"
>xdm</TT
>,
       <TT
CLASS="literal"
>xdm.options</TT
>.
     </P
></LI
><LI
><P
>Una buena referencia de X-Window (incluyendo
       <SPAN
CLASS="application"
>xdm</SPAN
> y <SPAN
CLASS="acronym"
>XDMCP</SPAN
>) es:
       <I
CLASS="citetitle"
>X-Window System Administrator's Guide</I
>,
       1992.  Linda Mui y Eric Pearce.  O'Reilly &#38; Associates,
       Inc.
     </P
></LI
><LI
><P
>En Internet puede consultar sobre <SPAN
CLASS="acronym"
>XDMCP</SPAN
>
       en: <A
HREF="http://www.xs4all.nl/~zweije/xauth-9.html"
TARGET="_top"
>http://www.xs4all.nl/~zweije/xauth-9.html</A
>
     </P
></LI
><LI
><P
>&#13;       Puede consultar más sobre <SPAN
CLASS="acronym"
>GDM</SPAN
> en
       "<I
CLASS="citetitle"
>GNOME Display Manager Reference
       Manual</I
>", disponible en su computador en
       <TT
CLASS="filename"
>file:/usr/share/gnome/help/gdm/C/gdm.html</TT
>
       o en Internet en <A
HREF="http://www.oswg.org/oswg-nightly/oswg/en_US.ISO_8859-1/articles/gdm-reference/gdm-reference.html"
TARGET="_top"
>http://www.oswg.org/oswg-nightly/oswg/en_US.ISO_8859-1/articles/gdm-reference/gdm-reference.html</A
>
      </P
></LI
></UL
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="ejercicios-administracion-de-usuarios"
>Ejercicios: Administración de usuarios</A
></H2
><DIV
CLASS="qandaset"
><DL
><DT
>1. <A
HREF="x5590.htm#admus.politica.1"
>Los números <SPAN
CLASS="acronym"
>UID</SPAN
> y
       <SPAN
CLASS="acronym"
>GID</SPAN
> del usuario root son fijos, investigue
       en su sistema cuales son.</A
></DT
><DT
>2. <A
HREF="x5590.htm#admus.politica.2"
>En el directorio <TT
CLASS="filename"
>tarea1</TT
> se quiere que todos los
       miembros del grupo estudiantes puedan escribir, pero que un
       miembro de ese grupo no pueda borrar o renombrar archivos de
       otros, ¿cómo puede lograrse?  si además se quiere que no
       puedan ver o modificar el contenido de archivos de otros
       miembros del mismo grupo que se requiere?</A
></DT
><DT
>3. <A
HREF="x5590.htm#AEN6352"
>Para transformar una clave con el algoritmo DES
       puede emplear el siguiente script escrito en lenguaje Perl:</A
></DT
><DT
>4. <A
HREF="x5590.htm#admus.configura.2"
>&#13;       Cree un usuario en el grupo <TT
CLASS="literal"
>users</TT
> y
       agréguelo a grupos que le permitan acceder a la impresora
       local, a dispositivos de audio y a la unidad de
       disquette. Después pase a la cuenta del nuevo usuario y
       compruebe que pueda usar disquettes. Finalmente elimine el
       usuario creado.
      </A
></DT
><DT
>5. <A
HREF="x5590.htm#admus.configura.3"
>Nuestra plataforma de referencia (ver <A
HREF="a14434.htm#plataforma-de-referencia"
>Plataforma de
	referencia</A
>) sugiere 3 grupos básicos: profesores,
       estudiantes y administración.  Considere ventajas y desventajas
       de esta política (o si lo prefiere de otra ideada por usted de
       acuerdo a la infomación que se maneja en la red).  ¿Qué
       usuarios deberían tener más de un grupo?  ¿qué grupos
       podrían tener clave, quienes administrarían tales grupos y
       quienes serían los usuarios?</A
></DT
><DT
>6. <A
HREF="x5590.htm#admus.configura.4"
>Cree los grupos que decidió en el punto
       anterior y usuarios de prueba (de forma que al menos un usuario
       de prueba esté en dos grupos).</A
></DT
><DT
>7. <A
HREF="x5590.htm#admus.configura.5"
>¿Qué cambios puede realizar en
       <TT
CLASS="filename"
>/etc/adduser.conf</TT
> para facilitar la
       implementación de la política descrita en los ejercicios
       anteriores?</A
></DT
><DT
>8. <A
HREF="x5590.htm#admus.configura.6"
>Piense una máscara de permisos apropiada para
       todos los usuarios. Describa como la aplica empleando
       <B
CLASS="command"
>umask</B
> y los cambios que debe realizar para
       establecer tal mascara por defecto para todos los
       usuarios.</A
></DT
><DT
>9. <A
HREF="x5590.htm#admus.configura.7"
>Haga los cambios apropiados en su sistema,
       para que todo directorio creado para nuevos usuarios tenga un
       archivo <TT
CLASS="filename"
>ayuda.txt</TT
> donde los usuarios
       podrían escribir sus propias notas para emplear bien el
       sistema, y un mecanismo que le recuerde a los usuarios la
       existencia de tal archivo.  Inicialmente ese archivo podía
       tener un mensaje de bienvenida y/o instrucciones para comenzar
       a usar bien el sistema.</A
></DT
><DT
>10. <A
HREF="x5590.htm#admus.configura.8"
>Haga una lista de chequeo de detalles que deba
       tener en cuenta para prevenir que alguien entre a cuentas que
       no le pertenecen (especialmente como evitar que alguién pueda
       entrar a la cuenta root).</A
></DT
><DT
>11. <A
HREF="x5590.htm#admus.configura.9"
>Opcional: Configure
      <SPAN
CLASS="application"
>gdm</SPAN
> para que en vez de presentar el
      logo típico presente el logo de su institución educativa.</A
></DT
></DL
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.politica.1"
></A
><B
>1. </B
>Los números <SPAN
CLASS="acronym"
>UID</SPAN
> y
       <SPAN
CLASS="acronym"
>GID</SPAN
> del usuario root son fijos, investigue
       en su sistema cuales son.</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
>UID=0 y GID=0.  Son menores a 100 lo que indica que deben ser 
	  fijos en cualquier computador con Debian.</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.politica.2"
></A
><B
>2. </B
>En el directorio <TT
CLASS="filename"
>tarea1</TT
> se quiere que todos los
       miembros del grupo estudiantes puedan escribir, pero que un
       miembro de ese grupo no pueda borrar o renombrar archivos de
       otros, ¿cómo puede lograrse?  si además se quiere que no
       puedan ver o modificar el contenido de archivos de otros
       miembros del mismo grupo que se requiere?</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
><PRE
CLASS="screen"
>&#13;chgrp estudiantes tarea1;
chmod o+t tarea1 </PRE
>  
       Para la segunda parte se requiere que cada
       archivo no conceda permiso de lectura ni escritura al grupo ni
       a otros.</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="AEN6352"
></A
><B
>3. </B
>Para transformar una clave con el algoritmo DES
       puede emplear el siguiente script escrito en lenguaje Perl:</P
><PRE
CLASS="programlisting"
>&#13;#!/usr/bin/perl
$sal=join '', ('.', '/', 0..9, 'A'..'Z','a'..'z')[rand 64, rand 64];
print crypt($ARGV[0],$sal);
print "\n";
</PRE
><P
>&#13;       Si el nombre del script es <B
CLASS="command"
>enc.pl</B
> y le da
       permiso de ejecución, para transformar la clave "vida" bastaría
       ejecutar <B
CLASS="command"
>enc.pl vida</B
>.</P
><P
>&#13;       Emplee este script para transformar una clave,
       después edite <TT
CLASS="filename"
>/etc/passwd</TT
> o
       <TT
CLASS="filename"
>/etc/shadow</TT
> agregue la nueva clave
       transformada a una cuenta de prueba y finalmente compruebe que
       la nueva clave funciona entrando a la cuenta de prueba.  Nota:
       Si desea experimentar con MD5 en lugar de DES debe cambiar la
       "sal"
       <A
NAME="AEN6361"
HREF="#FTN.AEN6361"
>[14]</A
>,
       remplazando la línea con la función <B
CLASS="command"
>crypt</B
>
      por <B
CLASS="command"
>print crypt($ARGV[0],"\$1\$$sal");</B
>
       </P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
>"enc.pl vida" (con MD5) da por ejemplo
       "$1$wv$mOwf63L.QvbJ.f7U362Os1" que puede ponerse bien en el
       campo para la clave de <TT
CLASS="filename"
>/etc/passwd</TT
> o bien
       si las claves shadow están activas, dejar 'x' en
       <TT
CLASS="filename"
>/etc/passwd</TT
> y remplazar la clave en
       <TT
CLASS="filename"
>/etc/shadow</TT
>.</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.2"
></A
><B
>4. </B
>
       Cree un usuario en el grupo <TT
CLASS="literal"
>users</TT
> y
       agréguelo a grupos que le permitan acceder a la impresora
       local, a dispositivos de audio y a la unidad de
       disquette. Después pase a la cuenta del nuevo usuario y
       compruebe que pueda usar disquettes. Finalmente elimine el
       usuario creado.
      </P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
>
	<PRE
CLASS="screen"
>&#13;adduser ­­ingroup users gloria 
adduser gloria lpr 
adduser gloria audio 
adduser gloria floppy
su - gloria
mdir
exit
deluser ­­remove-home gloria</PRE
></P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.3"
></A
><B
>5. </B
>Nuestra plataforma de referencia (ver <A
HREF="a14434.htm#plataforma-de-referencia"
>Plataforma de
	referencia</A
>) sugiere 3 grupos básicos: profesores,
       estudiantes y administración.  Considere ventajas y desventajas
       de esta política (o si lo prefiere de otra ideada por usted de
       acuerdo a la infomación que se maneja en la red).  ¿Qué
       usuarios deberían tener más de un grupo?  ¿qué grupos
       podrían tener clave, quienes administrarían tales grupos y
       quienes serían los usuarios?</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
> Los grupos básicos no tendrian
       clave: profesores, estudiantes y administación (podrían crearse
       grupos para otros miembros de la comunidad como exalumnos o
       padres).  Los estudiantes pueden estar sólo en el grupo de
       estudiantes, los profesores pueden tener como segundo grupo
       estudiantes, los usuarios de la parte administrativa podrían
       tener como grupo principal administracion y como grupos
       secundarios profesores y estudiantes. En principio la
       información que cree un usuario no debe ser visible a su
       grupo. Podrían haber grupos con clave para grupos lideradors
       por un profesor, administrador o estudiante que requieran
       manejar información separada (con un poco de instrucción los
       lideres podrían ser los administradores de grupo).</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.4"
></A
><B
>6. </B
>Cree los grupos que decidió en el punto
       anterior y usuarios de prueba (de forma que al menos un usuario
       de prueba esté en dos grupos).</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
>
	<PRE
CLASS="screen"
> 
addgroup ­­gid 1100 estudiantes; 
addgroup ­­gid 1101 profesores; 
addgroup ­­gid 1102 admin; 
adduser ­­ingroup estudiantes esperanza; 
adduser ­­ingroup profesores johannes; 
adduser ­­ingroup tomas; 
adduser estudiantes johanes; 
adduser estudiantes tomas; 
adduser profesores tomas</PRE
></P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.5"
></A
><B
>7. </B
>¿Qué cambios puede realizar en
       <TT
CLASS="filename"
>/etc/adduser.conf</TT
> para facilitar la
       implementación de la política descrita en los ejercicios
       anteriores?</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
> Suponiendo que los grupos son
       estudiantes (GID=1100), profesores (GID=1101), cuerpo
       administrativo (GID=1102) <TT
CLASS="filename"
>adduser.conf</TT
> puede 
       ser como el que viene por defecto con los siguientes cambios:
       <PRE
CLASS="screen"
>&#13;USERGROUPS=no
USERS_GID=1100
       </PRE
>
       Así por defecto todo usuario nuevo sería estudiante (para 
       agregar profesores y administradores se usaría la opción 
       <TT
CLASS="literal"
>­­ingroup</TT
> de <B
CLASS="command"
>adduser</B
>).  Entre 
       las opciones por defecto de ese archivo que puede ser mejor 
       conservar están:
       bash como intérprete de comandos por defecto (que ha sido
       documentado en estas guías), como directorio para usuarios
       <TT
CLASS="filename"
>/home</TT
> (que se ha supuesto en los primeros 
       capítulos de estas guías), los números de usuarios que siguen 
       las políticas de Debian.</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.6"
></A
><B
>8. </B
>Piense una máscara de permisos apropiada para
       todos los usuarios. Describa como la aplica empleando
       <B
CLASS="command"
>umask</B
> y los cambios que debe realizar para
       establecer tal mascara por defecto para todos los
       usuarios.</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
> Como se desea que por defecto los
       usuarios de unos grupos no puedan ver información de usuarios
       del mismo grupo: <B
CLASS="command"
>umask u=rw,g=,o=</B
>.  Debe 
       agregarse tal orden en <TT
CLASS="filename"
>/etc/profile</TT
> y en los 
       archivos de sesiones de <B
CLASS="command"
>gdm</B
> en el directorio
       <TT
CLASS="filename"
>/etc/gdm/Session</TT
>.</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.7"
></A
><B
>9. </B
>Haga los cambios apropiados en su sistema,
       para que todo directorio creado para nuevos usuarios tenga un
       archivo <TT
CLASS="filename"
>ayuda.txt</TT
> donde los usuarios
       podrían escribir sus propias notas para emplear bien el
       sistema, y un mecanismo que le recuerde a los usuarios la
       existencia de tal archivo.  Inicialmente ese archivo podía
       tener un mensaje de bienvenida y/o instrucciones para comenzar
       a usar bien el sistema.</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
> Crear el archivo en
       <TT
CLASS="filename"
>etc/skel</TT
> (como parte del contenido puede
       recordarse a los usuarios actualizar la información personal
       con <B
CLASS="command"
>chfn</B
>).  En /etc/skel/.bashrc puede 
       agregarse algo como: <PRE
CLASS="screen"
>&#13;echo "Hay ayuda que puede completar en el archivo ayuda.txt"
	 </PRE
> 
       </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.8"
></A
><B
>10. </B
>Haga una lista de chequeo de detalles que deba
       tener en cuenta para prevenir que alguien entre a cuentas que
       no le pertenecen (especialmente como evitar que alguién pueda
       entrar a la cuenta root).</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
> Evitar entrada a la cuenta root desde el
       prompt de arranque. Evitar en lo posible emplear los bits SUID
       y GUID con usuario o grupo root. Emplear claves shadow con MD5
       (en Debian se usa por defecto PAM que es muy apropiado). Educar
       a los usuarios en este tema, buscando que eligan buenas claves
       y ayuden a cuidar y construir la red (emplear para la cuenta
       root una muy buena clave conocida sólo por el administrador).
       Emplear cracklib para evitar uso de claves simples.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="admus.configura.9"
></A
><B
>11. </B
>Opcional: Configure
      <SPAN
CLASS="application"
>gdm</SPAN
> para que en vez de presentar el
      logo típico presente el logo de su institución educativa.</P
></DIV
><DIV
CLASS="answer"
><P
><B
> </B
>
      Editar en <TT
CLASS="filename"
>/etc/gdm/gdm.conf</TT
> la línea:
      <PRE
CLASS="screen"
>&#13;logo=/usr/share/pixmaps/gnome-logo-large.png
    </PRE
></P
></DIV
></DIV
></DIV
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notas</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5704"
HREF="x5590.htm#AEN5704"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Al emplear la opción <TT
CLASS="option"
>-</TT
> de
	   <B
CLASS="command"
>su</B
> se inicializa el ambiente tal como el
	   programa <B
CLASS="command"
>login</B
> lo haría, el valor de la
	   variable <TT
CLASS="envar"
>PATH</TT
> será tomado de
	   <TT
CLASS="filename"
>/etc/login.defs</TT
>, de
	   <TT
CLASS="envar"
>ENV_PATH</TT
> si se pasa a un usuario normal o de
	   <TT
CLASS="envar"
>ENV_SUPATH</TT
> si se trata del usuario
	   <TT
CLASS="literal"
>root</TT
>
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5718"
HREF="x5590.htm#AEN5718"
>[2]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>En <TT
CLASS="filename"
>/etc/shells</TT
> se listan los
	   intérpretes de comandos disponibles. Algunos programas que
	   opean en red sólo aceptan conexiones de usuarios cuyo
	   intérprete de comandos esté listado en ese
	   archivo.
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5735"
HREF="x5590.htm#AEN5735"
>[3]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Cuando un usuario no ha cambiado su clave dentro del
	   máximo de días especificado, en la siguiente oportunidad
	   que entre a una sesión el sistema solicitará una nueva
	   clave --que debe ser diferente a la
	   anterior.
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5770"
HREF="x5590.htm#AEN5770"
>[4]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Hay varios programas similares a
	   <B
CLASS="command"
>adduser</B
>, <B
CLASS="command"
>addgroup</B
>,
	   <B
CLASS="command"
>deluser</B
> y <B
CLASS="command"
>delgroup</B
> se
	   trata de <B
CLASS="command"
>useradd</B
>,
	   <B
CLASS="command"
>groupadd</B
>, <B
CLASS="command"
>userdel</B
> y
	   <B
CLASS="command"
>groupdel</B
>.  Recomendamos emplear los
	   primeros porque son más flexibles (se configuran en los
	   archivos <TT
CLASS="filename"
>/etc/adduser.conf</TT
> y
	   <TT
CLASS="filename"
>/etc/deluser.conf</TT
>) y porque permiten
	   seguir las políticas de numeración de grupos y usuarios de
	   Debian
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5801"
HREF="x5590.htm#AEN5801"
>[5]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Si no se especifica un número de usuario o grupo a
	   <B
CLASS="command"
>adduser</B
> o <B
CLASS="command"
>addgroup</B
>,
	   estos asignarán uno disponible de acuerdo a la política de
	   Debian: en el rango 1000 a 29999 si es un usuario normal o
	   en el rango 100 a 999 si es una cuenta requerida por algún
	   programa (que se indica con la opción
	   <TT
CLASS="option"
>­­system</TT
>, además al usar ­­system con
	   <B
CLASS="command"
>adduser</B
> el intérprete de comandos será
	   <TT
CLASS="filename"
>/bin/false</TT
>). Las identificaciones
	   entre 0 y 100 son comunes a cualquier sistema Debian y no
	   deben modificarse.
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5858"
HREF="x5590.htm#AEN5858"
>[6]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Con DES el tamaño máximo de una clave es 8
	  caracteres, el algoritmo MD5 es más seguro y permite claves de
	  mayor longitud.
	 </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5885"
HREF="x5590.htm#AEN5885"
>[7]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>De acuerdo a la página man de passwd, GECOS es sigla de
	  General Electric Comprehensive Operating
	  System.
	 </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN5893"
HREF="x5590.htm#AEN5893"
>[8]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Para convertir un archivo de claves shadow a passwd y
	viceversa se usan <B
CLASS="command"
>pwunconv</B
> y
	<B
CLASS="command"
>pwconv</B
> respectivamente. Puede desactivarse
	el uso de claves shadow con <TT
CLASS="literal"
>shadowconfig
	off</TT
> y activarse con <TT
CLASS="literal"
>shadowconfig
	on</TT
>
       </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6009"
HREF="x5590.htm#AEN6009"
>[9]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
><B
CLASS="command"
>sg</B
> es un comando similar a
	   <B
CLASS="command"
>newgrp</B
> que además permite especificar un
	   comando por ejecutar con la opción <TT
CLASS="option"
>-c
	   <TT
CLASS="replaceable"
><I
>comando</I
></TT
></TT
>
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6048"
HREF="x5590.htm#AEN6048"
>[10]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Un comando casi equivalente a
	   <B
CLASS="command"
>addgroup</B
> es <B
CLASS="command"
>groupadd</B
>,
	   sin embargo <B
CLASS="command"
>addgroup</B
> tiene en cuenta las
	   políticas de Debian y la información de
	   <TT
CLASS="filename"
>/etc/adduser.conf</TT
>.
	  </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6124"
HREF="x5590.htm#AEN6124"
>[11]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Por defecto todos los usuarios pueden entrar a cualquier
	hora, puede modificarse esto editando
	<TT
CLASS="filename"
>/etc/security/time.conf</TT
>.
       </P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6128"
HREF="x5590.htm#AEN6128"
>[12]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
><B
CLASS="command"
>motd</B
> abrevia message of day (en
	español mensaje del día).</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6137"
HREF="x5590.htm#AEN6137"
>[13]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>access.conf login access control table, group.conf para
	dar acceso a ciertos usuarios a ciertos grupos a los cuales no
	pertenece, limits.conf para establecer límites en el uso de
	algunos recursos del sistema (como procesos, memoria, archivos
	abiertos simultaneamente, tiempo de CPU, número de logins,
	prioridad de procesos), pam_env.conf donde pueden configurarse
	variables de ambiente, time.conf donde se configura horarios
	en el que ciertos usuarios pueden ingresar al sistema</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN6361"
HREF="x5590.htm#AEN6361"
>[14]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Tanto MD5 como DES transforman una clave empleando un
	 número, este número (llamado informalmente "sal") produce una
	 transformación diferente y se adjunta al comienzo de la clave
	 transformada. Es útil para hacer más dificil a un intruso
	 descubrir claves (porque si intenta descubrir claves probando
	con algunas fijas, transformandolas y comparando con
	<TT
CLASS="filename"
>/etc/passwd</TT
> debe usar cada una de las
	sales de cada usuario en sus intentos.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x5075.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x6433.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Apagado y encendido de una red</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c4966.htm"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Administración de archivos</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>