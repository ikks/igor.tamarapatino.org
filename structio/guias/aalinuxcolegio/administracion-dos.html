<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Capítulo 5. Administración de Linux en computadores aislados</title><meta name="generator" content="DocBook XSL Stylesheets V1.56.1"><link rel="home" href="AA_Linux_colegio.html" title="Aprendiendo a Aprender Linux"><link rel="up" href="AA_Linux_colegio.html" title="Aprendiendo a Aprender Linux"><link rel="previous" href="colaboracion-y-soporte.html" title="6. Colaboración y soporte"><link rel="next" href="kernel-y-modulos.html" title="2. Kernel y módulos"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 5. Administración de Linux en computadores aislados</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="colaboracion-y-soporte.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="kernel-y-modulos.html">Siguiente</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><h2 class="title"><a name="administracion-dos"></a>Capítulo 5. Administración de Linux en computadores aislados</h2></div></div><div class="toc"><p><b>Tabla de contenidos</b></p><dl><dt>1. <a href="administracion-dos.html#inicializacion-del-sistema">Inicialización del sistema</a></dt><dd><dl><dt>1.1. <a href="administracion-dos.html#lectura-inicializacion-del-sistema">Lectura: Inicialización del sistema</a></dt><dd><dl><dt>1.1.1. <a href="administracion-dos.html#secuencia-de-inicio">Secuencia de inicio</a></dt><dt>1.1.2. <a href="administracion-dos.html#configuracion-de-los-niveles-de-ejecucion">Configuración de los niveles de ejecución</a></dt></dl></dd><dt>1.2. <a href="administracion-dos.html#lecturas-recomendadas-inicializacion-del-sistema">Lecturas recomendadas: Inicialización del sistema</a></dt><dt>1.3. <a href="administracion-dos.html#ejercicios-inicializacion-del-sistema">Ejercicios: Inicialización del sistema</a></dt></dl></dd><dt>2. <a href="kernel-y-modulos.html">Kernel y módulos</a></dt><dd><dl><dt>2.1. <a href="kernel-y-modulos.html#lectura-kernel-y-modulos">Lectura: Kernel y módulos</a></dt><dd><dl><dt>2.1.1. <a href="kernel-y-modulos.html#modulos">Módulos</a></dt><dt>2.1.2. <a href="kernel-y-modulos.html#configuracion-del-kernel">Configuración del kernel</a></dt></dl></dd><dt>2.2. <a href="kernel-y-modulos.html#lecturas-recomendadadas-kernel-y-modulos">Lecturas recomendadas: Kernel y módulos</a></dt><dt>2.3. <a href="kernel-y-modulos.html#ejercicios-kernel-y-modulos">Ejercicios: Kernel y módulos</a></dt></dl></dd><dt>3. <a href="hardware-basico-y-linux.html">Hardware básico y Linux</a></dt><dd><dl><dt>3.1. <a href="hardware-basico-y-linux.html#lectura-hardware-basico-y-linux">Lectura: Hardware básico y Linux</a></dt><dd><dl><dt>3.1.1. <a href="hardware-basico-y-linux.html#precauciones-para-manipular-hardware">Precauciones para manipular hardware</a></dt><dt>3.1.2. <a href="hardware-basico-y-linux.html#generalidades-sobre-la-placa-base">Generalidades sobre la placa base</a></dt><dt>3.1.3. <a href="hardware-basico-y-linux.html#generalidades-sobre-dispositivos">Generalidades sobre dispositivos</a></dt><dt>3.1.4. <a href="hardware-basico-y-linux.html#procesador">Procesador</a></dt><dt>3.1.5. <a href="hardware-basico-y-linux.html#memoria-ram">Memoria RAM </a></dt><dt>3.1.6. <a href="hardware-basico-y-linux.html#buses">Buses</a></dt><dt>3.1.7. <a href="hardware-basico-y-linux.html#interfaz-y-dispositivos-ide">Interfaz y dispositivos IDE</a></dt><dt>3.1.8. <a href="hardware-basico-y-linux.html#adaptadores-y-dispositivos-scsi">Adaptadores y dispositivos SCSI</a></dt><dt>3.1.9. <a href="hardware-basico-y-linux.html#puertos-y-dispositivos-seriales">Puertos y dispositivos seriales</a></dt><dt>3.1.10. <a href="hardware-basico-y-linux.html#puerto-paralelo">Puerto paralelo</a></dt><dt>3.1.11. <a href="hardware-basico-y-linux.html#bios-y-otras-caracteristicas">BIOS y otras características</a></dt></dl></dd><dt>3.2. <a href="hardware-basico-y-linux.html#lecturas-recomendadas-hardware-basico-y-linux">Lecturas recomendadas: Hardware básico y Linux</a></dt><dt>3.3. <a href="hardware-basico-y-linux.html#ejercicios-hardware-basico-y-linux">Ejercicios: Hardware básico y Linux</a></dt></dl></dd><dt>4. <a href="dispositivos-y-linux.html">Dispositivos y Linux</a></dt><dd><dl><dt>4.1. <a href="dispositivos-y-linux.html#lectura-dispositivos-y-linux">Lectura: Dispositivos y Linux</a></dt><dd><dl><dt>4.1.1. <a href="dispositivos-y-linux.html#soporte-de-hardware-en-linux">Soporte de hardware en Linux</a></dt><dt>4.1.2. <a href="dispositivos-y-linux.html#teclado">Teclado </a></dt><dt>4.1.3. <a href="dispositivos-y-linux.html#raton">Ratón</a></dt><dt>4.1.4. <a href="dispositivos-y-linux.html#monitor-y-tarjeta-graficadora">Monitor y tarjeta graficadora</a></dt><dt>4.1.5. <a href="dispositivos-y-linux.html#impresora">Impresora</a></dt><dt>4.1.6. <a href="dispositivos-y-linux.html#discos-duros">Discos duros</a></dt><dt>4.1.7. <a href="dispositivos-y-linux.html#disquetes">Disquetes</a></dt><dt>4.1.8. <a href="dispositivos-y-linux.html#unidades-de-cd-dash-rom-y-dvd">Unidades de CD-ROM y DVD</a></dt><dt>4.1.9. <a href="dispositivos-y-linux.html#quemadora-de-cd">Quemadora de CD</a></dt><dt>4.1.10. <a href="dispositivos-y-linux.html#tarjetas-de-sonido">Tarjetas de sonido</a></dt></dl></dd><dt>4.2. <a href="dispositivos-y-linux.html#lecturas-recomendadas-dispositivos-y-linux">Lecturas recomendadas: Dispositivos y Linux</a></dt><dt>4.3. <a href="dispositivos-y-linux.html#ejercicios-dispositivos-y-linux">Ejercicios: Dispositivos y Linux</a></dt></dl></dd><dt>5. <a href="instalacion-de-debian.html">Instalación de Debian</a></dt><dd><dl><dt>5.1. <a href="instalacion-de-debian.html#lectura-instalacion-de-debian">Lectura: Instalación de Debian</a></dt><dt>5.2. <a href="instalacion-de-debian.html#lecturas-recomendadas-instalacion-de-debian">Lecturas recomendadas: Instalación de Debian</a></dt><dt>5.3. <a href="instalacion-de-debian.html#ejercicios-instalacion-de-debian">Ejercicios: Instalación de Debian</a></dt></dl></dd><dt>6. <a href="localizacion-y-configuracion-de-algunos-programas.html">Localización y configuración de algunos programas</a></dt><dd><dl><dt>6.1. <a href="localizacion-y-configuracion-de-algunos-programas.html#lectura-localizacion">Lectura: Localización y configuración de algunos programas</a></dt><dd><dl><dt>6.1.1. <a href="localizacion-y-configuracion-de-algunos-programas.html#teclado-en-espanol">Configuración del teclado</a></dt><dt>6.1.2. <a href="localizacion-y-configuracion-de-algunos-programas.html#locale-para-colombia-y-mensajes-en-espanol">Locale para Colombia y
     mensajes en español</a></dt><dt>6.1.3. <a href="localizacion-y-configuracion-de-algunos-programas.html#tiempo-y-zona-geografica">Tiempo y zona geográfica</a></dt><dt>6.1.4. <a href="localizacion-y-configuracion-de-algunos-programas.html#id455597">vim</a></dt><dt>6.1.5. <a href="localizacion-y-configuracion-de-algunos-programas.html#id455638">LaTeX</a></dt><dt>6.1.6. <a href="localizacion-y-configuracion-de-algunos-programas.html#id455688">Gnome</a></dt><dt>6.1.7. <a href="localizacion-y-configuracion-de-algunos-programas.html#id455704">Ocaml</a></dt><dt>6.1.8. <a href="localizacion-y-configuracion-de-algunos-programas.html#id455753">DocBook</a></dt><dt>6.1.9. <a href="localizacion-y-configuracion-de-algunos-programas.html#id456087">Mozilla</a></dt><dt>6.1.10. <a href="localizacion-y-configuracion-de-algunos-programas.html#id456116">Diccionarios</a></dt></dl></dd><dt>6.2. <a href="localizacion-y-configuracion-de-algunos-programas.html#lecturas-recomendadas-localizacion">Lecturas recomendadas: Localización y configuración de algunos programas</a></dt><dt>6.3. <a href="localizacion-y-configuracion-de-algunos-programas.html#ejercicios-localizacion">Ejercicios: Localización y configuración de algunos programas</a></dt></dl></dd></dl></div><h2><a name="id420374"></a>Público y logros</h2><p>Administrador de Red del colegio quién solucionará problemas
    cuando se presenten o instalará la plataforma de referencia en
    computadores fuera de red.
   </p><div class="itemizedlist"><ul type="disc"><li><p><a name="init"></a>Conoce la secuencia de inicialización y puede configurar
      algunos detalles.  </p></li><li><p><a name="conf"></a>Emplea módulos, el kernel y otros programas para configurar
     un sistema.</p></li><li><p><a name="hardware"></a>Reconoce los componentes físicos de un
      computador, puede manipularlos y configurar algunos con Linux.
     </p></li><li><p><a name="instala"></a>Puede instalar la distribución Debian en un computador y
      configurarla de acuerdo a los lineamientos de la plataforma de
      referencia S-Helio 1.1.
     </p></li></ul></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="inicializacion-del-sistema"></a>1. Inicialización del sistema</h2></div></div><p>Indicadores de Logros:
   </p><div class="itemizedlist"><ul type="disc"><li><p><a name="init.seq"></a>Conoce la secuencia de inicialización.</p></li><li><p><a name="init.conf"></a>Configura algunos detalles de la inicialización del sistema.
     </p></li></ul></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="lectura-inicializacion-del-sistema"></a>1.1. Lectura: Inicialización del sistema</h3></div></div><p>Un aspecto que un administrador de un sistema Linux debe
    considerar en ocasiones, es la secuencia de inicialización del
    sistema.  Esto puede servir para iniciar junto con el sistema
    servicios importantes (especialmente si el computador se emplea
    como servidor), para eliminar servicios que no se usen y así
    aprovechar mejor los recursos o para afinar algunos detalles que
    afectarán a todos los usuarios del sistema.  Por otra parte
    algunas fallas que pueden ocurrir en un sistema Linux pueden
    deberse a una secuencia de inicialización errada y para
    solucionarlas puede ser necesario seguirla de cerca.
   </p><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="secuencia-de-inicio"></a>1.1.1. Secuencia de inicio</h4></div></div><p>
     Al iniciar un computador con Linux ocurren gran cantidad de
     procesos, deben ocurrir en un orden preciso porque unos dependen
     de otros (e.g. el cargador de arranque requiere la BIOS, el
     kernel requiere la inicialización que hace el cargador de
     arranque, los módulos requieren el kernel operando, las librerías
     y programas requieren el kernel y los módulos para interactuar
     con el usuario).
    </p><p>A grandes rasgos la secuencia de inicialización es:</p><a class="indexterm" name="id394359"></a><a class="indexterm" name="id394382"></a><a class="indexterm" name="id420793"></a><a class="indexterm" name="id420820"></a><div class="orderedlist"><ol type="1"><li><p>Un programa mantenido de forma permanente en memoria del
	computador (BIOS
	<sup>[<a name="id420859" href="#ftn.id420859">98</a>]</sup>) inicializa varios aspectos del hardware, después
	de acuerdo a su configuración carga el primer sector de un
	disquete o de un disco duro
	<sup>[<a name="id420870" href="#ftn.id420870">99</a>]</sup> o de un CD-ROM y ejecuta el programa que allí se
	encuentra.  Si el disquete/ disco/CD-ROM permite arrancar un
	sistema operativo tal programa se llama un <span class="emphasis"><em>cargador
	de arranque</em></span>
	<sup>[<a name="id420881" href="#ftn.id420881">100</a>]</sup>.
      </p><p>Algunos aspectos configurables de la BIOS se mantienen en
	un tipo de memoria especial (e.g. EPROM que, usando una pila,
	puede mantener datos cuando el computador está desconectado),
	pueden configurarse empleando un programa<sup>[<a name="id420896" href="#ftn.id420896">101</a>]</sup>.
      </p></li><li><p>Algunos cargadores de arranque (como
	LILO o GRUB) pueden
	permitir al usuario escoger el sistema operativo al cual desea
	entrar (cuando en el mismo computador haya varios), y carga el
	kernel del sistema escogido, eventualmente pasando parametros
	dados por el usuario (ver <a href="apagado-y-encendido-de-una-red.html#parametros-desde-el-cargador-de-arranque" title="2.1.3. Parámetros desde el cargador de arranque">Parámetros
	 desde el cargador de arranque</a>)
	<sup>[<a name="id420932" href="#ftn.id420932">102</a>]</sup>.  Para sistemas Linux hay varios cargadores de
	arranque, los más conocidos son
	LILO y
	GRUB. También es posible arrancar
	un sistema Linux desde DOS con el cargador
	<tt>loadlin</tt>.
       </p></li><li><p>Si el sistema escogido es Linux, el cargador de arranque,
	carga el kernel de este sistema.  El kernel detecta algunos
	detalles del hardware (como el procesador, cantidad de memoria
	y algunos dispositivos), procesa parametros recibidos del
	cargador de arranque, inicializa algunos aspectos del
	hardware, prepara áreas de memoria, prepara el sistema de
	archivos virtual (ver <a href="administracion-de-archivos.html#sistemas-de-archivos-en-linux" title="4.1.3. Sistemas de archivos en Linux">Sistemas de archivos
	 en Linux</a>), prepara el sistema de módulos y lanza como
	primer proceso <b>/sbin/init</b> (a menos que se
	haya especificado otro programa como parámetro ver <a href="apagado-y-encendido-de-una-red.html#parametros-desde-el-cargador-de-arranque" title="2.1.3. Parámetros desde el cargador de arranque">Parámetros
	desde el cargador de arranque</a>).  Varios de los mensajes
	que el kernel produce durante esta etapa pueden ser revisados
	en el archivo <tt>/var/log/dmesg</tt> y con el
	programa <b>dmesg</b>.
      </p><p>Como los dispositivos de cada computador son diferentes,
	el kernel cuenta con controladores
	<sup>[<a name="id421220" href="#ftn.id421220">103</a>]</sup> para muchos tipos de hardware diferente (tanto
	para hardware muy antiguo, como para hardware muy nuevo) y
	para no ocupar tanto espacio en memoria el kernel emplea un
	sistema de módulos. Si todos los controladores para todos los
	tipos de hardware que el kernel soporta, se incluyeran
	directamente en el kernel (i.e estaticamente) desde el
	arranque, el kernel requeriría bastante memoria RAM (un kernel
	2.2.18 con módulos requiere más de 13MB) y la gran mayoría de
	ese espacio no sería usado, sólo serían usadas las partes que
	controlan los dispositivos particulares de su computador.
      </p><p>Un módulo es una parte del kernel que puede cargarse,
       usarse o quitarse después de que el kernel está funcionando.
       Algunos módulos ofrecen servicios (e.g soporte para cierto
       sistemas de archivos) y otros son controladores para hardware
       específico (por ejemplo hay módulos para tarjetas de sonido,
       para tarjetas de red, etc.).  Durante el proceso de
       inicialización del sistema, algunos dispositivos son detectados
       y los módulos apropiados son cargados, sin embargo como se
       explica en este capítulo algunos dispositivos no pueden ser
       detectados o configurados automáticamente e incluso algunos no
       son soportados.
      </p></li><li><a class="indexterm" name="id421243"></a><p>El programa <b>/sbin/init</b>, que
	normalmente es el primer proceso ejecutado por el kernel
	completa la secuencia de inicialización ejecutando los
	procesos de un nivel de ejecución.  El nivel de ejecución se
	asocia con un número entre 0 y 6, o bien con 'S' de forma que
	el administrador puede configurar cada nivel de ejecución para
	que inicie procesos diferentes.  Durante un arranque normal
	init ejecutará primero los procesos
	del nivel S (scripts del directorio
	<tt>/etc/rcS.d</tt> en orden). 
	Estos scripts
	emplean algunas variables definidas en
	<tt>/etc/default/rcS</tt> para inicializar
	dispositivos y programas.  A continuación presentamos la
	secuencia configurada en un sistema Debian recién instalado,
	posiblemente no entenderá todos los términos que serán
	introducidos en este y el próximo capítulo: instala el mapa de
	teclado (por defecto
	<tt>/etc/console-tools/default.kmap.gz</tt> que
	usted puede modificar de ser necesario), activa swap, revisa y
	de ser necesario monta la partición raíz y monta el directorio
	virtual <tt>/proc</tt>,
	configura dispositivos ISA Plug and Play de acuerdo a al
	archivo <tt>/etc/isapnp.conf</tt>, calcula
	dependencias entre módulos y carga los módulos y argumentos
	especificados en <tt>/etc/modules</tt>, chequea
	los demás sistemas de archivos que tengan inconsistencias o
	que hayan alcanzado la cuenta de montajes antes del
	chequeo
	<sup>[<a name="id421399" href="#ftn.id421399">104</a>]</sup>, configura variables del kernel especificadas en
	<tt>/etc/sysctl.conf</tt>, configura puertos
	seriales con la última configuración usada, prepara
	dispositivos dinámicos
	<tt>/dev/pts</tt>
	<sup>[<a name="id421531" href="#ftn.id421531">105</a>]</sup>, monta particiones locales y prepara zonas de
	intercambio, en sistemas que usan PPP limpiar cache de DNS,
	establece el nombre de la máquina tomandolo de
	<tt>/etc/hostname</tt>, activa interfaces de red
	empleando la configuración de
	<tt>/etc/network/interfaces</tt> y
	<tt>/etc/network/options</tt>, inicia interfaces
	que requieran BOOTP o DHCP, activa portmap, monta directorios
	remotos (con nfs, smb, o ncp), configura fuentes por usar en
	consolas virtuales
	<sup>[<a name="id421556" href="#ftn.id421556">106</a>]</sup>, ajusta la hora del sistema y realiza otras
	labores de limpieza y mantenimiento rutinarias.
      </p></li><li><a class="indexterm" name="id421655"></a><p>Después de ejecutar scripts del nivel S,
	<b>init</b> ejecuta los del nivel de ejecución
	configurado (el nivel se configura en el archivo
	<tt>/etc/inittab</tt> en una línea que dice
	<tt>initdefault</tt>).  Por defecto es el nível 2
	cuyos scripts están en el directorio
	<tt>/etc/init.d/rc2.d</tt>.
      </p></li><li><a class="indexterm" name="id421712"></a><p>A menos que se haya cambiado la configuración de
	<b>/sbin/init</b>, a continuación se ejecutan los
	scripts del nivel configurado, se inician terminales
	tty
	<sup>[<a name="id421742" href="#ftn.id421742">107</a>]</sup> en diversas consolas virtuales (por defecto en
	Debian de la 1 a la 6) que permiten a los usuarios iniciar
	sesiones tipo texto con el intérprete de comandos (ver <a href="sistema-de-usuarios-y-manejo-de-clave.html#lectura-sistema-de-usuarios-y-manejo-de-clave" title="3.1. Lectura: Sistema de usuarios y manejo de clave">Lectura
	 Sistema de usuarios y manejo de clave</a>).  Para iniciar
	esas terminales usa el programa <tt>getty</tt> (ver
	<a href="administracion-de-usuarios.html#inicio-de-sesiones-en-consolas-virtuales" title="3.1.3. Inicio de sesiones en consolas virtuales">Inicio de
	 sesiones en consolas virtuales</a>).
      </p></li><li><a class="indexterm" name="id421784"></a><p>Si X-Window está configurado y si hay instalado un
	administrador de vistas
	<sup>[<a name="id421966" href="#ftn.id421966">108</a>]</sup> ---como xdm,
	kdm o
	gdm--- el último script del nivel 2
	iniciará X-Window en la consola virtual 7 y permitirá a los
	usuarios iniciar sesiones gráficas con su login y clave (ver
	<a href="administracion-de-usuarios.html#inicio-de-sesiones-x-dash-window" title="3.1.4. Inicio de sesiones X-Window">Inicio de
	sesiones X-Window</a>).
      </p></li></ol></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="configuracion-de-los-niveles-de-ejecucion"></a>1.1.2. Configuración de los niveles de ejecución</h4></div></div><p>A menos que se especifique un proceso inicial diferente
      desde el cargador de arranque (con el parámetro
      <b>init</b> ver <a href="apagado-y-encendido-de-una-red.html#parametros-desde-el-cargador-de-arranque" title="2.1.3. Parámetros desde el cargador de arranque">Parámetros
      desde el cargador de arranque</a> por defecto el primer
      proceso es <tt>/sbin/init</tt>.  Este programa lee
      el archivo de configuración <tt>/etc/inittab</tt>
      para iniciar otros procesos organizados en niveles de ejecución
      y con ellos el resto del sistema operativo.
     </p><a class="indexterm" name="id422135"></a><p>Cada línea del archivo <tt>/etc/inittab</tt>
      puede ser un comentario (si comienza con el caracter '#') o de la
      forma:
</p><pre class="programlisting">
id:niveles:método:comando
</pre><p>
      Donde id es una identificación arbitraria de hasta de 4 letras,
      niveles indica el nivel o los niveles en los cuales se aplica,
      comando es el comando por ejecutar y método permite especificar
      la forma de iniciarlo o circunstancias bajo las cuales
      iniciarlo
      <sup>[<a name="id422178" href="#ftn.id422178">109</a>]</sup>
    </p><p>En un sistema que ya esta inicializado se puede emplear el
      programa <b>/sbin/init</b> (o
      <b>/sbin/telinit</b>) para cambiar el nivel de
      ejecución, especificando el nuevo nível como parámetro (e.g
      <b>/sbin/init 1</b> ver <a href="apagado-y-encendido-de-una-red.html#encendido" title="2.1.2. Encendido">Encendido</a>).
    </p><p>En Debian un nivel de ejecución es una configuración del
      sistema en la que sólo están presentes ciertos procesos, tales
      procesos son iniciados por scripts en un directorio particular
      (e.g <tt>/etc/rc2.d</tt> para el nivel 2).  Los
      nombres de algunos de esos scripts comienzan con la letra 'S',
      esos son ejecutados cuando el sistema entra al nivel, los que
      comienzan con la letra 'K' son ejecutados cuando se sale del
      nivel (después de la letra 'S' o 'K' sigue un número de dos
      digitos que especifica el orden en el cual se ejecutan
      ---primero los de menor número---).  Al entrar a un nivel los
      scripts 'S' son ejecutados con el parámetro &quot;start&quot;, mientras
      que al salir los scripts 'K' se ejecutan con el parámetro
      &quot;stop&quot;.  Los niveles normales son: </p><div class="variablelist"><dl><dt><span class="term">0
       </span></dt><dd><p>Nivel para detener el sistema, es el nivel al que entra
	 con los comandos <b>halt</b> o <b>shutdown
	 -r</b> (ver <a href="apagado-y-encendido-de-una-red.html" title="2. Apagado y encendido de una red">Apagado y encendido
	  de una red</a>).  Sus scripts están en el directorio:
	 <tt>/etc/rc0.d</tt>.
	</p></dd><dt><span class="term">1
       </span></dt><dd><p>Modo mono usuario
	 <sup>[<a name="id422641" href="#ftn.id422641">110</a>]</sup>, apropiado para ciertas
	   tareas administrativas.  Entrará a este nivel con el
	   comando <b>shutdown</b>).  Sus scripts están en
	   <tt>/etc/rc1.d</tt>.
	</p></dd><dt><span class="term">
	2-5
       </span></dt><dd><p>Operación normal multi usuario. Scripts en
	 <tt>/etc/rc<i><tt>x</tt></i>.d</tt>
	 (con un digito de 2 a 5 en lugar de <i><tt>x</tt></i>).
	</p></dd><dt><span class="term">6
       </span></dt><dd><p>Reinicio
	 <sup>[<a name="id422734" href="#ftn.id422734">111</a>]</sup>.  Entrará a este nivel con los comandos
	 <b>reboot</b> o <b>shutdown -r</b>.
	 Scripts en <tt>/etc/rc6.d</tt>.
	</p></dd></dl></div><a class="indexterm" name="id422771"></a><a class="indexterm" name="id422806"></a><a class="indexterm" name="id422829"></a><p>
      Los archivos de los directorios
      <tt>/etc/rc<i><tt>x</tt></i>.d</tt> son
      enlaces a scripts del directorio
      <tt>/etc/init.d</tt>, esos scripts tiene el nombre
      del paquete (ver <a href="administracion-de-programas.html#paquetes-en-debian" title="5.1.3. Paquetes en Debian">Paquetes en
       Debian</a>) al que pertenecen y pueden recibir como
      parámetro: <i><tt>start</tt></i>,
      <i><tt>stop</tt></i>, <i><tt>restart</tt></i>
      (detener y reiniciar), <i><tt>force-reload</tt></i>
      (volver a leer archivos de configuración sin detener o de no ser
      posibile detener y reiniciar).  Pueden crearse directamente con
      <b>ln</b> o en Debian con el programa
      <tt>update-rc.d</tt>, por ejemplo:
     </p><pre class="programlisting">
update-rc.d xdm start 99 2 3 4 5 . stop 20 0 1 6
</pre><p>
      que indica que el script xdm (el cual debe
      estar en <tt>/etc/init.d</tt>) debe ser ejecutado al
      entrar a los niveles 2, 3, 4 y 5 con prioridad 99 ( última).
      Así como cuando el sistema termina normalmente (con
      halt o <tt>reboot</tt>) o cuando
      sale de modo monousuario. </p><a class="indexterm" name="id423122"></a></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="lecturas-recomendadas-inicializacion-del-sistema"></a>1.2. Lecturas recomendadas: Inicialización del sistema</h3></div></div><div class="itemizedlist"><ul type="disc"><li><p>
       Páginas man de init,
       inittab,
       update-rc.d.
      </p></li><li><p>
      Puede consultarse otra explicación del proceso de inicialización
       en el Capítulo 7 de &quot;<i>The Linux System
       Administrators' Guide</i> (Version 0.6.2)&quot; disponible
       en <a href="http://www.tldp.org/LDP/sag/x1901.html" target="_top">http://www.tldp.org/LDP/sag/x1901.html</a>.
       
      </p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="ejercicios-inicializacion-del-sistema"></a>1.3. Ejercicios: Inicialización del sistema</h3></div></div><div class="qandaset"><table border="0" summary="Q and A Set"><col align="left" width="1%"><tbody><tr class="question"><td align="left" valign="top"><a name="id423234"></a><a name="init.seq.1"></a><b>1.3.1. </b></td><td align="left" valign="top"><p>¿Qué proceso tiene el
       identificador 1 en un arranque normal? (puede usar
       <b>ps ax</b> si requiere ayuda).</p></td></tr><tr class="question"><td align="left" valign="top"><a name="id423267"></a><a name="init.seq.2"></a><b>1.3.2. </b></td><td align="left" valign="top"><p>Identifique el script en el que se monta el
      directorio virtual <tt>/proc</tt>
      durante el arranque.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="id423303"></a><a name="init.seq.3"></a><b>1.3.3. </b></td><td align="left" valign="top"><p>De forma análoga a la descripción de los
      scripts del nivel S presentado en esta sección, describa lo que
      hacen los scripts del nível de ejecución 2.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="id423474"></a><a name="init.conf.1"></a><b>1.3.4. </b></td><td align="left" valign="top"><p>Agregue en el nivel de
       ejecución 3 un script que le envie un correo a su cuenta de
       usuario con la fecha y hora.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="id423529"></a><a name="init.conf.2"></a><b>1.3.5. </b></td><td align="left" valign="top"><p>Cambie al nivel de
       ejecución 3 y compruebe que el script que creo en el punto
       anterior funciona.</p></td></tr></tbody></table></div></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id420859" href="#id420859">98</a>] </sup>BIOS es sigla de
	  <i>Basic Input Output
	  System</i>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id420870" href="#id420870">99</a>] </sup>El primer sector de un disco duro tiene la tabla de
	  particiones.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id420881" href="#id420881">100</a>] </sup>Cargador de arranque: del inglés <i>boot
	  loader</i>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id420896" href="#id420896">101</a>] </sup>En PCs
	  el programa para configurar la BIOS normalmente está incluido
	  en la BIOS misma y puede ejecutarse tras encender el computador
	  presionando alguna tecla (e.g.  <b>Del</b> o
	  <b>F1</b>).</p></div><div class="footnote"><p><sup>[<a name="ftn.id420932" href="#id420932">102</a>] </sup>Además de los parámetros <tt>single</tt> y
	  <tt>init=<i><tt>programa</tt></i></tt>
	  pueden emplearse parámetros específicos para módulos
	  compilados estáticamente en el kernel y otros generales como
	  <tt>ro</tt> o <tt>rw</tt> para montar la
	  raíz en modo de sólo lectura o de escritura y lectura
	  respectivamente,
	  <tt>root=<i><tt>dispositivo</tt></i></tt>
	  para especificar el dispositivo para montar como raíz,
	  <tt>debug</tt> o <tt>quiet</tt> para que
	  el kernel muestre el máximo o el mínimo de mensajes
	  informativos. Otros pueden verse con <tt>man
	  bootparam</tt>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421220" href="#id421220">103</a>] </sup>Controlador: del inglés
	  <i>driver</i>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421399" href="#id421399">104</a>] </sup>Si existe <tt>/fastboot</tt> no hace el
	  chequeo, si existe <tt>/forcefsck</tt> chequea
	  independiente de la cuenta de montajes. Este chequeo arregla
	  errores sólo si <tt>FSCKFIX</tt> es
	  <tt>yes</tt> en
	  <tt>/etc/defaults</tt>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421531" href="#id421531">105</a>] </sup>Se trata de pseudoterminales, por ejemplo usadas por
	  terminales X-Window.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421556" href="#id421556">106</a>] </sup>Las fuentes por usar en
	  consolas virtuales se configuran en
	  <tt>/etc/console-tools/config</tt>
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421742" href="#id421742">107</a>] </sup>Una terminal tty permite hacer login en un sistema
	  Linux, puede ser una consola virtual, un puerto serial (o
	  modem) o una seudoterminal pty --como las terminales
	  iniciadas en X-Window.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id421966" href="#id421966">108</a>] </sup>Administrador de vistas: del inglés <i>display
	  manager</i>.
	 </p></div><div class="footnote"><p><sup>[<a name="ftn.id422178" href="#id422178">109</a>] </sup>Los posibles métodos para iniciar un comando son:
	<tt>respawn</tt> que indica que se reiniciará el
	proceso cuando termine, <tt>wait</tt> que indica que
	se ejecutará una vez el proceso cuando se ingrese al nivel de
	ejecución y se esperará que complete antes de continuar,
	<tt>once</tt> similar a <tt>wait</tt> pero
	continua ejecutando otros proceso sin esperar a que termine,
	<tt>boot</tt> ejecutará el proceso durante el
	arranque (ignorando el nivel de ejecución) y continuará con
	otros sin esperar a que termine, <tt>bootwait</tt>
	análogo a <tt>boot</tt> pero espera a que termine
	antes de ejecutar otro proceso, <tt>off</tt> no hace
	nada, <tt>ondemand</tt> permite especificar tres
	niveles de ejecución especiales a, b y c,
	<tt>initdefault</tt> especifica el nivel de
	ejecución por defecto (el comando es ignorado),
	<tt>sysinit</tt> ejecuta durante el arranque antes
	de otros marcados con <tt>boot</tt> o
	<tt>bootwait</tt> (ignora nivel de ejecución),
	<tt>powerwait</tt> ejecuta el comando cuando una UPS
	indique que se acabó el suministro de energía
	(<tt>init</tt> espera a que el comando termine)
	--una UPS es un dispositivo con una batería que puede mantener
	encendido un computador por un tiempo después de un corte de
	energía eléctrica---, <tt>powerfail</tt> análogo a
	<tt>powerwait</tt> pero <tt>init</tt> no
	espera a que concluya, <tt>powerokwait</tt> se
	ejecutará el comando cuando el suministro de energía es
	restablecido, <tt>powerfailnow</tt> ejecuta el
	comando cuando la UPS indica que su batería está próxima a
	acabarse, <tt>ctraltdel</tt> proceso ejecutado
	cuando <tt>init</tt> recibe la señal
	<tt>SIGINT</tt> --que normalmente ocurre cuando el
	usuario presiona Ctrl-Alt-Del---, <tt>kbrequest</tt>
	ejecuta el comando cuando recibe la señal
	<tt>SIGWINCH</tt> ---que puede ser generada por una
	secuencia de teclas especiales.</p></div><div class="footnote"><p><sup>[<a name="ftn.id422641" href="#id422641">110</a>] </sup>Mono usuario: del inglés <i>single
	   user</i>
	  </p></div><div class="footnote"><p><sup>[<a name="ftn.id422734" href="#id422734">111</a>] </sup>Reinicio: del inglés
	   <i>reboot</i>
	  </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="colaboracion-y-soporte.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="AA_Linux_colegio.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="kernel-y-modulos.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">6. Colaboración y soporte </td><td width="20%" align="center"><a accesskey="h" href="AA_Linux_colegio.html">Inicio</a></td><td width="40%" align="right" valign="top"> 2. Kernel y módulos</td></tr></table></div></body></html>
